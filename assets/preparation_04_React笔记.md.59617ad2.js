import{_ as n,c as s,o as a,a as p}from"./app.b3477ce4.js";const d='{"title":"React \u7B14\u8BB0","description":"","frontmatter":{},"headers":[{"level":2,"title":"1.React \u6781\u901F\u5165\u95E8","slug":"_1-react-\u6781\u901F\u5165\u95E8"},{"level":3,"title":"1.1 React \u6982\u8FF0","slug":"_1-1-react-\u6982\u8FF0"},{"level":3,"title":"1.2 React \u521D\u4F53\u9A8C","slug":"_1-2-react-\u521D\u4F53\u9A8C"},{"level":2,"title":"2.\u7EC4\u4EF6\u5316\u5F00\u53D1\u57FA\u7840","slug":"_2-\u7EC4\u4EF6\u5316\u5F00\u53D1\u57FA\u7840"},{"level":3,"title":"2.6  \u8868\u5355\u63A7\u5236","slug":"_2-6-\u8868\u5355\u63A7\u5236"},{"level":3,"title":"2.7 \u6837\u5F0F\u63A7\u5236","slug":"_2-7-\u6837\u5F0F\u63A7\u5236"},{"level":3,"title":"2.8 \u4F20\u9001\u95E8\u7EC4\u4EF6","slug":"_2-8-\u4F20\u9001\u95E8\u7EC4\u4EF6"},{"level":2,"title":"3.\u7EC4\u4EF6\u5316\u5F00\u53D1\u8FDB\u9636","slug":"_3-\u7EC4\u4EF6\u5316\u5F00\u53D1\u8FDB\u9636"},{"level":3,"title":"3.4.1 \u6982\u8FF0\u4E0E\u5B9E\u4F8B","slug":"_3-4-1-\u6982\u8FF0\u4E0E\u5B9E\u4F8B"},{"level":3,"title":"3.4.2 \u7591\u60D1","slug":"_3-4-2-\u7591\u60D1"},{"level":3,"title":"3.4.3 memo","slug":"_3-4-3-memo"},{"level":3,"title":"3.5.2 \u57FA\u672C\u4F7F\u7528","slug":"_3-5-2-\u57FA\u672C\u4F7F\u7528"},{"level":3,"title":"3.6 useMemo","slug":"_3-6-usememo"},{"level":3,"title":"3.7.2\u57FA\u672C\u4F7F\u7528","slug":"_3-7-2\u57FA\u672C\u4F7F\u7528"},{"level":3,"title":"3.8useImperativeHandle","slug":"_3-8useimperativehandle"},{"level":3,"title":"3.8.1 \u6982\u8FF0","slug":"_3-8-1-\u6982\u8FF0"},{"level":3,"title":"3.8.2 \u4EE3\u7801\u793A\u4F8B","slug":"_3-8-2-\u4EE3\u7801\u793A\u4F8B"},{"level":3,"title":"3.9 Custom Hooks","slug":"_3-9-custom-hooks"},{"level":3,"title":"3.9.1 \u6982\u8FF0","slug":"_3-9-1-\u6982\u8FF0"},{"level":3,"title":"3.9.2 useStorage","slug":"_3-9-2-usestorage"},{"level":3,"title":"3.9.3 useToggle","slug":"_3-9-3-usetoggle"},{"level":3,"title":"3.10 Children","slug":"_3-10-children"},{"level":3,"title":"3.11 Context","slug":"_3-11-context"},{"level":2,"title":"5.React\u8DEF\u7531v6","slug":"_5-react\u8DEF\u7531v6"},{"level":3,"title":"5.1 \u5BA2\u6237\u7AEF\u8DEF\u7531\u6982\u8FF0","slug":"_5-1-\u5BA2\u6237\u7AEF\u8DEF\u7531\u6982\u8FF0"},{"level":3,"title":"5.2 \u57FA\u672C\u4F7F\u7528","slug":"_5-2-\u57FA\u672C\u4F7F\u7528"},{"level":3,"title":"5.3 NavLink \u7EC4\u4EF6","slug":"_5-3-navlink-\u7EC4\u4EF6"},{"level":3,"title":"5.4 404 \u4E0E Navigate","slug":"_5-4-404-\u4E0E-navigate"},{"level":3,"title":"5.5\u5D4C\u5957\u8DEF\u7531","slug":"_5-5\u5D4C\u5957\u8DEF\u7531"},{"level":3,"title":"5.6\u7D22\u5F15\u8DEF","slug":"_5-6\u7D22\u5F15\u8DEF"},{"level":3,"title":"5.7 \u7F16\u7A0B\u5F0F\u5BFC\u822A","slug":"_5-7-\u7F16\u7A0B\u5F0F\u5BFC\u822A"},{"level":3,"title":"5.8 \u8DEF\u7531\u53C2\u6570","slug":"_5-8-\u8DEF\u7531\u53C2\u6570"},{"level":3,"title":"5.9 \u67E5\u8BE2\u53C2\u6570","slug":"_5-9-\u67E5\u8BE2\u53C2\u6570"},{"level":3,"title":"5.10 \u8DEF\u7531\u7EC4\u4EF6\u61D2\u52A0\u8F7D","slug":"_5-10-\u8DEF\u7531\u7EC4\u4EF6\u61D2\u52A0\u8F7D"},{"level":3,"title":"5.11 \u8DEF\u7531\u5B88\u536B \u5355\u8DEF\u7531\u5B88\u536B","slug":"_5-11-\u8DEF\u7531\u5B88\u536B-\u5355\u8DEF\u7531\u5B88\u536B"},{"level":3,"title":"5.12 \u8DEF\u7531\u5B88\u536B \u591A\u8DEF\u7531\u5B88\u536B","slug":"_5-12-\u8DEF\u7531\u5B88\u536B-\u591A\u8DEF\u7531\u5B88\u536B"},{"level":3,"title":"5.13 \u6EDA\u52A8\u884C\u4E3A\u4FEE\u6B63","slug":"_5-13-\u6EDA\u52A8\u884C\u4E3A\u4FEE\u6B63"},{"level":2,"title":"6.\u670D\u52A1\u7AEF\u6E32\u67D3","slug":"_6-\u670D\u52A1\u7AEF\u6E32\u67D3"},{"level":3,"title":"6.1 \u6982\u8FF0","slug":"_6-1-\u6982\u8FF0"},{"level":3,"title":"6.1.1\u6E32\u67D3\u6982\u8FF0","slug":"_6-1-1\u6E32\u67D3\u6982\u8FF0"},{"level":3,"title":"1.\u670D\u52A1\u7AEF\u6E32\u67D3SSR","slug":"_1-\u670D\u52A1\u7AEF\u6E32\u67D3ssr"},{"level":3,"title":"2.\u5BA2\u6237\u7AEF\u6E32\u67D3CSR","slug":"_2-\u5BA2\u6237\u7AEF\u6E32\u67D3csr"},{"level":3,"title":"3.\u9759\u6001\u751F\u6210SSG","slug":"_3-\u9759\u6001\u751F\u6210ssg"},{"level":3,"title":"6.1.2 \u6E32\u67D3\u53D1\u5C55\u53F2","slug":"_6-1-2-\u6E32\u67D3\u53D1\u5C55\u53F2"},{"level":3,"title":"6.2.2 \u57FA\u4E8E\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u7684\u8DEF\u7531","slug":"_6-2-2-\u57FA\u4E8E\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u7684\u8DEF\u7531"}],"relativePath":"preparation/04_React\u7B14\u8BB0.md"}',t={},e=p(`<h1 id="react-\u7B14\u8BB0" tabindex="-1">React \u7B14\u8BB0 <a class="header-anchor" href="#react-\u7B14\u8BB0" aria-hidden="true">#</a></h1><h2 id="_1-react-\u6781\u901F\u5165\u95E8" tabindex="-1">1.React \u6781\u901F\u5165\u95E8 <a class="header-anchor" href="#_1-react-\u6781\u901F\u5165\u95E8" aria-hidden="true">#</a></h2><div class="language-"><pre><code>https://raw.githubusercontent.com/zjp693/Zhang_blog/main/docs/public/images/
\u56FE\u7247\u5730\u5740
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_1-1-react-\u6982\u8FF0" tabindex="-1">1.1 React \u6982\u8FF0 <a class="header-anchor" href="#_1-1-react-\u6982\u8FF0" aria-hidden="true">#</a></h3><h4 id="_1-1-1-react-\u662F\u4EC0\u4E48" tabindex="-1">1.1.1 React \u662F\u4EC0\u4E48 <a class="header-anchor" href="#_1-1-1-react-\u662F\u4EC0\u4E48" aria-hidden="true">#</a></h4><blockquote><p>A JavaScript library for building user interfaces</p><p>\u4E00\u4E2A\u7528\u4E8E\u6784\u5EFA\u7528\u6237\u754C\u9762\u7684 JavaScript \u5E93</p></blockquote><p>React \u662F\u4E00\u4E2A\u5F00\u6E90\u7684 JavaScript \u5E93\uFF0C\u7528\u4E8E\u6784\u5EFA web \u5E94\u7528\u4E2D\u7684\u89C6\u56FE\u5C42\uFF0C\u5B9E\u9645\u4E0A\u5C31\u662F web \u5E94\u7528\u4E2D\u7684\u524D\u7AEF\u7528\u6237\u754C\u9762\u3002</p><p>\u4F7F\u7528 React \u6784\u5EFA\u7684\u5BA2\u6237\u7AEF web \u5E94\u7528\u53EF\u4EE5\u5FEB\u901F\u54CD\u5E94\u7528\u6237\u64CD\u4F5C\uFF0C\u4F7F web \u5E94\u7528\u7684\u4F7F\u7528\u4F53\u9A8C\u8FD1\u4E4E\u4E8E\u79FB\u52A8 App\u3002</p><p>React \u5141\u8BB8\u5F00\u53D1\u4EBA\u5458\u5C06\u7528\u6237\u754C\u9762\u4EE3\u7801\u548C\u903B\u8F91\u4EE3\u7801\u8FDB\u884C\u5B8C\u7F8E\u878D\u5408\uFF0C\u4EE5\u66F4\u52A0\u7075\u6D3B\u7684\u65B9\u5F0F\u521B\u5EFA\u7528\u6237\u754C\u9762\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">Welcome</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello, </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4E86\u89E3\uFF1AReact \u9664\u4E86\u53EF\u4EE5\u6784\u5EFA\u8FD0\u884C\u5728\u6D4F\u89C8\u5668\u4E2D\u7684 web \u5E94\u7528\u4EE5\u5916\uFF0C\u8FD8\u53EF\u4EE5\u6784\u5EFA\u5728\u79FB\u52A8\u7AEF\u8FD0\u884C\u7684\u539F\u751F App \u5E94\u7528\u3002</p><h4 id="_1-1-2-\u5B83\u7684\u80CC\u666F\u4E0E\u751F\u6001" tabindex="-1">1.1.2 \u5B83\u7684\u80CC\u666F\u4E0E\u751F\u6001 <a class="header-anchor" href="#_1-1-2-\u5B83\u7684\u80CC\u666F\u4E0E\u751F\u6001" aria-hidden="true">#</a></h4><p>\u5B83\u662F\u7531 Facebook \u7684\u8F6F\u4EF6\u5DE5\u7A0B\u5E08\u5728 2012 \u5E74\u521B\u5EFA\uFF0C\u4E8E 2013 \u5E74 5 \u6708\u5F00\u6E90\uFF0C\u76EE\u524D\u7531 Facebook \u4EE5\u53CA\u4E2A\u4EBA\u5F00\u53D1\u4EBA\u5458\u548C\u516C\u53F8\u7EC4\u6210\u7684\u793E\u533A\u7EF4\u62A4\u3002</p><p>React \u751F\u6001\u5708\u5F02\u5E38\u6D3B\u8DC3\uFF0C\u5728\u6784\u5EFA\u5BA2\u6237\u7AEF web \u5E94\u7528\u7684\u8FC7\u7A0B\u4E2D\u4F60\u9047\u5230\u7684\u95EE\u9898\u51E0\u4E4E\u90FD\u53EF\u4EE5\u5728\u793E\u533A\u4E2D\u627E\u5230\u7B54\u6848\u3002</p><table><thead><tr><th><a href="https://redux.js.org/" target="_blank" rel="noopener noreferrer">Redux</a></th><th><a href="https://mobx.js.org/README.html" target="_blank" rel="noopener noreferrer">MobX</a></th><th><a href="https://recoiljs.org/" target="_blank" rel="noopener noreferrer">Recoil</a></th><th><a href="https://formik.org/" target="_blank" rel="noopener noreferrer">Formik</a></th><th><a href="https://react-table.tanstack.com/" target="_blank" rel="noopener noreferrer">React Table</a></th></tr></thead><tbody><tr><td><a href="https://nextjs.org/" target="_blank" rel="noopener noreferrer">Next.js</a></td><td><a href="https://www.gatsbyjs.com/" target="_blank" rel="noopener noreferrer">Gatsby</a></td><td><a href="https://react-query.tanstack.com/" target="_blank" rel="noopener noreferrer">React Query</a></td><td><a href="https://swr.vercel.app/zh-CN" target="_blank" rel="noopener noreferrer">SWR</a></td><td><a href="https://reactrouter.com/" target="_blank" rel="noopener noreferrer">React Router</a></td></tr><tr><td><a href="https://react-spring.io/" target="_blank" rel="noopener noreferrer">React Spring</a></td><td><a href="https://styled-components.com/" target="_blank" rel="noopener noreferrer">Styled-Components</a></td><td><a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener noreferrer">Ant Design</a></td><td><a href="https://mui.com/zh/" target="_blank" rel="noopener noreferrer">Material UI</a></td><td><a href="https://mswjs.io/" target="_blank" rel="noopener noreferrer">MSW</a></td></tr></tbody></table><p><a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer">\u5B98\u65B9\u6587\u6863</a></p><h3 id="_1-2-react-\u521D\u4F53\u9A8C" tabindex="-1">1.2 React \u521D\u4F53\u9A8C <a class="header-anchor" href="#_1-2-react-\u521D\u4F53\u9A8C" aria-hidden="true">#</a></h3><h4 id="_1-2-1-\u5F15\u5305-\u6D4F\u89C8\u5668\u73AF\u5883" tabindex="-1">1.2.1 \u5F15\u5305(\u6D4F\u89C8\u5668\u73AF\u5883) <a class="header-anchor" href="#_1-2-1-\u5F15\u5305-\u6D4F\u89C8\u5668\u73AF\u5883" aria-hidden="true">#</a></h4><div class="language-html line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcdn.net/ajax/libs/react/17.0.2/umd/react.production.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcdn.net/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>React \u53EF\u4EE5\u6784\u5EFA\u5728\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C\u7684 web \u5E94\u7528\uFF0C\u4E5F\u53EF\u4EE5\u6784\u5EFA\u5728\u79FB\u52A8\u7AEF\u8FD0\u884C\u7684\u539F\u751F\u5E94\u7528\uFF0CReact \u5728\u6784\u5EFA\u8FD9\u4E24\u79CD\u5E94\u7528\u65F6\u4F1A\u6709\u4E00\u4E9B\u901A\u7528\u65B9\u6CD5\u548C\u4E00\u4E9B\u975E\u901A\u7528\u65B9\u6CD5\uFF0C\u901A\u7528\u65B9\u6CD5\u90FD\u88AB\u653E\u7F6E\u5728\u4E86 <code>react</code> \u6587\u4EF6\u4E2D\uFF0C\u975E\u901A\u7528\u65B9\u6CD5\u6BD4\u5982\u5B9E\u73B0 web \u5E94\u7528\u7684\u65B9\u6CD5\u88AB\u653E\u7F6E\u5728\u4E86 <code>react-dom</code> \u4E2D\uFF0C\u5B9E\u73B0\u79FB\u52A8\u7AEF\u5E94\u7528\u7684\u65B9\u6CD5\u88AB\u653E\u7F6E\u5728\u4E86 <code>react-native-web</code> \u6587\u4EF6\u4E2D\u3002</p><p>react\uFF1A\u6838\u5FC3\u5E93\uFF0C\u5305\u542B\u4E86\u6784\u5EFA web \u5E94\u7528\u548C\u6784\u5EFA\u79FB\u52A8\u7AEF\u5E94\u7528\u7684\u901A\u7528\u65B9\u6CD5\u3002</p><p>react-dom\uFF1A\u53EA\u5305\u542B\u4E86\u6784\u5EFA web \u5E94\u7528\u7684\u65B9\u6CD5\u3002</p><p>react-native-web\uFF1A\u53EA\u5305\u542B\u6784\u5EFA\u79FB\u52A8\u7AEF\u5E94\u7528\u7684\u65B9\u6CD5\u3002</p><h4 id="_1-2-2-createelement" tabindex="-1">1.2.2 createElement <a class="header-anchor" href="#_1-2-2-createelement" aria-hidden="true">#</a></h4><p>\u5F15\u5165<code>react</code>\u540E\uFF0Cwindow\u5BF9\u8C61\u4E0B\u4F1A\u591A\u51FA\u4E00\u4E2A<code>React</code>\u7684\u5BF9\u8C61,\u5BF9\u8C61\u4E0B\u9762\u7684<code>createElement</code>\u65B9\u6CD5\u7528\u4E8E\u521B\u5EFA\u5143\u7D20</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">//type:\u6807\u7B7E\u540D\u79F0\u3001\u5B57\u7B26\u4E32</span>
<span class="token comment">// props:\u5143\u7D20\u5C5E\u6027\uFF0C\u5BF9\u8C61\uFF0C\u65E0\u5C5E\u6027\u586B\u5165null </span>
<span class="token comment">//childeren:\u5B50\u5143\u7D20\uFF0C\u666E\u901A\u6587\u672C\u6216creaateElement \u65B9\u6CD5\u8FD4\u56DE\u7684\u5143\u7D20\u5BF9\u8C61</span>
<span class="token comment">//\u8FD4\u56DE\u503C\uFF1A\u5143\u7D20\u5BF9\u8C61\uFF08\u865A\u62DF DOM \u5BF9\u8C61\uFF09</span>
React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>props<span class="token punctuation">,</span>children<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-javascript line-numbers-mode"><pre><code>cosnt button <span class="token operator">=</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">yupe</span><span class="token operator">:</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;\u4FDD\u5B58&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_1-2-3-render" tabindex="-1">1.2.3 render <a class="header-anchor" href="#_1-2-3-render" aria-hidden="true">#</a></h4><p>\u5F15\u5165 <code>react-dom</code>\u540E\uFF0Cwindow\u4E0B\u4F1A\u591A\u51FA\u4E00\u4E2A\u53EB\u505A<code>ReactDOM</code>\u7684\u5BF9\u8C61\uFF0C\u5BF9\u8C61\u4E0B\u9762\u7684<code>render</code>\u65B9\u6CD5\u7528\u4E8E\u6E32\u67D3\u5143\u7D20</p><div class="language-javascript line-numbers-mode"><pre><code><span class="token comment">// element: \u5F85\u6E32\u67D3\u5143\u7D20\u5BF9\u8C61, \u5C31\u662F\u901A\u8FC7 createElement \u65B9\u6CD5\u521B\u5EFA\u7684\u865A\u62DF DOM \u5BF9\u8C61</span>
<span class="token comment">// container: \u865A\u62DF DOM \u5BF9\u8C61\u7684\u6E32\u67D3\u4F4D\u7F6E. \u771F\u5B9E DOM \u5BF9\u8C61.</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> container<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-html line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_1-2-4\u7EC3\u4E60" tabindex="-1">1.2.4\u7EC3\u4E60 <a class="header-anchor" href="#_1-2-4\u7EC3\u4E60" aria-hidden="true">#</a></h4><h2 id="_2-\u7EC4\u4EF6\u5316\u5F00\u53D1\u57FA\u7840" tabindex="-1">2.\u7EC4\u4EF6\u5316\u5F00\u53D1\u57FA\u7840 <a class="header-anchor" href="#_2-\u7EC4\u4EF6\u5316\u5F00\u53D1\u57FA\u7840" aria-hidden="true">#</a></h2><h3 id="_2-6-\u8868\u5355\u63A7\u5236" tabindex="-1">2.6 \u8868\u5355\u63A7\u5236 <a class="header-anchor" href="#_2-6-\u8868\u5355\u63A7\u5236" aria-hidden="true">#</a></h3><h4 id="_2-6-1-\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6" tabindex="-1">2.6.1 \u53D7\u63A7\u8868\u5355\u7EC4\u4EF6 <a class="header-anchor" href="#_2-6-1-\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6" aria-hidden="true">#</a></h4><p>\u5728 React \u7EC4\u4EF6\u4E2D\u4F7F\u7528\u8868\u5355\u5143\u7D20\u65F6\uFF0C\u4E3A\u4E86\u65B9\u4FBF\u83B7\u53D6\u8868\u5355\u63A7\u4EF6\u7684\u503C\uFF0C\u901A\u5E38\u90FD\u4F1A\u5C06\u8868\u5355\u63A7\u4EF6\u548C\u7EC4\u4EF6\u72B6\u6001\u8FDB\u884C\u7ED1\u5B9A\uFF0C\u901A\u8FC7\u8BE5\u65B9\u5F0F\u4F7F\u7528\u8868\u5355\u7684\u7EC4\u4EF6\u53EB\u505A\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6\u3002</p><h5 id="_1-text" tabindex="-1">1. text <a class="header-anchor" href="#_1-text" aria-hidden="true">#</a></h5><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>username<span class="token punctuation">,</span> setUsername<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>username<span class="token punctuation">}</span></span>
      <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setUsername</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h5 id="_2-password" tabindex="-1">2. password <a class="header-anchor" href="#_2-password" aria-hidden="true">#</a></h5><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// \u4F18\u5316\u524D</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>formState<span class="token punctuation">,</span> setFormState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>username<span class="token punctuation">}</span></span>
        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>formState<span class="token punctuation">,</span> <span class="token literal-property property">username</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>password<span class="token punctuation">}</span></span>
        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>formState<span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// \u4F18\u5316\u540E</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>formState<span class="token punctuation">,</span> setFormState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onChangeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>formState<span class="token punctuation">,</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>username<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChangeHandler<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>password<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChangeHandler<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h5 id="_3-textarea" tabindex="-1">3. textarea <a class="header-anchor" href="#_3-textarea" aria-hidden="true">#</a></h5><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>formState<span class="token punctuation">,</span> setFormState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">biography</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onChangeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>formState<span class="token punctuation">,</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>biography<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>biography<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChangeHandler<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="_4-select" tabindex="-1">4. select <a class="header-anchor" href="#_4-select" aria-hidden="true">#</a></h5><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>formState<span class="token punctuation">,</span> setFormState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">transport</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onChangeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>formState<span class="token punctuation">,</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span>
      <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>transport<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>transport<span class="token punctuation">}</span></span>
      <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChangeHandler<span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u8BF7\u9009\u62E9\u4EA4\u901A\u65B9\u5F0F</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u706B\u8F66</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u98DE\u673A</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h5 id="_5-radio" tabindex="-1">5. radio <a class="header-anchor" href="#_5-radio" aria-hidden="true">#</a></h5><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>formState<span class="token punctuation">,</span> setFormState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onChangeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>formState<span class="token punctuation">,</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>size<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>m<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChangeHandler<span class="token punctuation">}</span></span> <span class="token attr-name">checked</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token string">&quot;m&quot;</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">M</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>size<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChangeHandler<span class="token punctuation">}</span></span> <span class="token attr-name">checked</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token string">&quot;s&quot;</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">S</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h5 id="_6-checkbox" tabindex="-1">6. checkbox <a class="header-anchor" href="#_6-checkbox" aria-hidden="true">#</a></h5><p>checkbox \u5355\u72EC\u4F7F\u7528\uFF0C\u6BD4\u5982\u662F\u5426\u540C\u610F\u534F\u8BAE\u3001\u662F\u5426\u8BB0\u4F4F\u5BC6\u7801\u3001\u662F\u5426\u4FDD\u6301\u767B\u5F55\u72B6\u6001\u7B49\u7B49\uFF0C\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B checkbox \u7ED1\u5B9A\u5E03\u5C14\u503C\u3002</p><p>\u5F53\u524D\u7684\u9700\u6C42\u662F\u67E5\u770B\u7528\u6237\u662F\u5426\u540C\u610F\u4E86\u7F51\u7AD9\u534F\u8BAE\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>formState<span class="token punctuation">,</span> setFormState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">agree</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onChangeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5982\u679C\u8868\u5355\u63A7\u4EF6\u662F\u590D\u9009\u6846, \u83B7\u53D6 checked \u5C5E\u6027\u7684\u503C\u4F5C\u4E3A value</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span>
          event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;checkbox&quot;</span>
    <span class="token operator">?</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked
    <span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>formState<span class="token punctuation">,</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token operator">:</span> value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>agree<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">checked</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>agree<span class="token punctuation">}</span></span>
      <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChangeHandler<span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>\u591A\u4E2A\u590D\u9009\u6846\u4E00\u8D77\u4F7F\u7528\uFF0C\u6BD4\u5982\u9009\u62E9\u5174\u8DA3\u7231\u597D\u3001\u591A\u9009\u9898\u7B49\u3002</p><p>\u5F53\u524D\u7684\u9700\u6C42\u662F\u4F7F\u7528\u6A21\u62DF\u7231\u597D\u6570\u7EC4\u751F\u6210\u7528\u6237\u754C\u9762\uFF0C\u5F53\u7528\u6237\u9009\u62E9\u7231\u597D\u540E\uFF0C\u5B58\u50A8\u7528\u6237\u9009\u62E9\u7684\u7231\u597DID\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// \u6A21\u62DF\u6570\u636E \u7231\u597D\u6570\u7EC4</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;\u8DB3\u7403&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;\u7BEE\u7403&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;\u6A44\u6984\u7403&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u58F0\u660E\u8868\u5355\u72B6\u6001</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>formState<span class="token punctuation">,</span> setFormState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">hobbies</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u7231\u597D\u6570\u7EC4\u6620\u5C04, \u7231\u597D\u6570\u7EC4\u4E2D\u6709\u591A\u5C11\u7231\u597D, \u8BE5\u72B6\u6001\u6570\u7EC4\u4E2D\u5C31\u6709\u591A\u5C11\u5E03\u5C14\u503C\u4E0E\u4E4B\u5BF9\u5E94, \u8868\u793A\u5BF9\u5E94\u7684\u7231\u597D\u5F53\u524D\u7684\u9009\u4E2D\u72B6\u6001\u662F\u4EC0\u4E48</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>checkedState<span class="token punctuation">,</span> setCheckedState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u7528\u4E8E\u9009\u62E9\u7231\u597D\u540E\u6267\u884C\u7684\u4E8B\u4EF6\u5904\u7406\u51FD\u6570</span>
  <span class="token keyword">const</span> <span class="token function-variable function">hobbyChangeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// index \u4E3A\u7528\u6237\u66F4\u6539\u7684\u7231\u597D\u5728\u539F\u6570\u7EC4\u4E2D\u7684\u7D22\u5F15</span>
    <span class="token comment">// \u6839\u636E index \u627E\u5230\u7231\u597D\u5BF9\u5E94\u7684\u5E03\u5C14\u503C, \u53D6\u53CD, \u8FD4\u56DE\u65B0\u7684\u7231\u597D\u6570\u7EC4\u5BF9\u5E94\u7684\u662F\u5426\u9009\u4E2D\u7684\u72B6\u6001\u5E03\u5C14\u503C\u6570\u7EC4</span>
    <span class="token keyword">const</span> updatedCheckedState <span class="token operator">=</span> checkedState<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">checked<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  i <span class="token operator">===</span> index <span class="token operator">?</span> <span class="token operator">!</span>checked <span class="token operator">:</span> checked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u66F4\u65B0\u7231\u597D\u72B6\u6001\u5E03\u5C14\u503C\u6570\u7EC4, \u4F9B\u4E0B\u6B21\u7528\u6237\u9009\u62E9\u65F6\u4F7F\u7528</span>
    <span class="token function">setCheckedState</span><span class="token punctuation">(</span>updatedCheckedState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u6839\u636E\u7231\u597D\u5E03\u5C14\u503C\u72B6\u6001\u6570\u7EC4, \u4ECE\u539F\u6570\u7EC4\u4E2D\u627E\u5230\u7528\u6237\u9009\u4E2D\u7684\u7231\u597D id</span>
    <span class="token keyword">const</span> udpatedHobbies <span class="token operator">=</span> updatedCheckedState<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span> checked<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>checked<span class="token punctuation">)</span> result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u66F4\u65B0\u8868\u5355\u72B6\u6001</span>
    <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>formState<span class="token punctuation">,</span> <span class="token literal-property property">hobbies</span><span class="token operator">:</span> udpatedHobbies <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">hobbyChangeHandler</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    	<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
  	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h5 id="_7-submit" tabindex="-1">7. submit <a class="header-anchor" href="#_7-submit" aria-hidden="true">#</a></h5><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>formState<span class="token punctuation">,</span> setFormState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onChangeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>formState<span class="token punctuation">,</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onSubmitHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSubmitHandler<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>username<span class="token punctuation">}</span></span>
        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChangeHandler<span class="token punctuation">}</span></span>
        <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h5 id="_8-reset" tabindex="-1">8. reset <a class="header-anchor" href="#_8-reset" aria-hidden="true">#</a></h5><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>formState<span class="token punctuation">,</span> setFormState<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onChangeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>formState<span class="token punctuation">,</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onResetHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setFormState</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formState<span class="token punctuation">.</span>username<span class="token punctuation">}</span></span>
        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChangeHandler<span class="token punctuation">}</span></span>
        <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onResetHandler<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        \u91CD\u7F6E
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="_2-6-2-\u975E\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6" tabindex="-1">2.6.2 \u975E\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6 <a class="header-anchor" href="#_2-6-2-\u975E\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6" aria-hidden="true">#</a></h4><h5 id="_1-useref" tabindex="-1">1. useRef <a class="header-anchor" href="#_1-useref" aria-hidden="true">#</a></h5><p>\u901A\u8FC7 useRef \u65B9\u6CD5\u53EF\u4EE5\u5B9E\u73B0 DOM \u5BF9\u8C61\u7684\u83B7\u53D6\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> username <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {current: input}</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>username<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handler<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="_2-forwardref" tabindex="-1">2. forwardRef <a class="header-anchor" href="#_2-forwardref" aria-hidden="true">#</a></h5><p>\u901A\u8FC7 forwardRef \u65B9\u6CD5\u53EF\u4EE5\u5B9E\u73B0\u5B50\u7EC4\u4EF6\u4E2D DOM \u5BF9\u8C61\u7684\u83B7\u53D6\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/App.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Message <span class="token keyword">from</span> <span class="token string">&quot;./Message&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> messageRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>messageRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Message</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>messageRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/Message.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> forwardRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Message</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">I am span</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span>Message<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="_3-\u975E\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6" tabindex="-1">3. \u975E\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6 <a class="header-anchor" href="#_3-\u975E\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6" aria-hidden="true">#</a></h5><p>\u5728 React \u4E2D\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6\u4F7F\u7528\u8D77\u6765\u5F88\u65B9\u4FBF\u4F46\u4E5F\u76F8\u5BF9\u590D\u6742\uFF0C\u5982\u679C\u8868\u5355\u672C\u8EAB\u6BD4\u8F83\u7B80\u5355\u4E5F\u53EF\u4EE5\u4F7F\u7528\u975E\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6\uFF0C\u975E\u53D7\u63A7\u8868\u5355\u7EC4\u4EF6\u5C31\u662F\u8868\u5355\u63A7\u4EF6\u4E0D\u548C\u7EC4\u4EF6\u72B6\u6001\u8FDB\u884C\u7ED1\u5B9A\uFF0C\u5C31\u4F7F\u7528\u539F\u751F\u7684\u8868\u5355 DOM \u5BF9\u8C61\u5B58\u50A8\u7528\u6237\u8F93\u5165\u7684\u503C\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> usernameRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onSubmitHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>usernameRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSubmitHandler<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>usernameRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2-7-\u6837\u5F0F\u63A7\u5236" tabindex="-1">2.7 \u6837\u5F0F\u63A7\u5236 <a class="header-anchor" href="#_2-7-\u6837\u5F0F\u63A7\u5236" aria-hidden="true">#</a></h3><h4 id="_2-7-1-css-stylesheets" tabindex="-1">2.7.1 CSS stylesheets <a class="header-anchor" href="#_2-7-1-css-stylesheets" aria-hidden="true">#</a></h4><p>\u5728 JS \u6587\u4EF6\u4E2D\u53EF\u4EE5\u901A\u8FC7 import \u5173\u952E\u5B57\u5BFC\u5165 CSS \u6837\u5F0F\u8868\uFF0C\u6837\u5F0F\u8868\u7684\u4F5C\u7528\u8303\u56F4\u4E3A\u5168\u5C40\u3002</p><div class="language-css line-numbers-mode"><pre><code><span class="token comment">/* src/styles.css */</span>
<span class="token selector">.button</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #5cb85c<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 6px 12px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 1.42857143<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-javascript line-numbers-mode"><pre><code><span class="token comment">// src/index.js</span>
<span class="token keyword">import</span> <span class="token string">&quot;./styles.css&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/App.js</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">button</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2-7-2-inline-styling" tabindex="-1">2.7.2 Inline styling <a class="header-anchor" href="#_2-7-2-inline-styling" aria-hidden="true">#</a></h4><p>\u901A\u8FC7 style \u5C5E\u6027\u4E3A\u5143\u7D20\u6DFB\u52A0\u884C\u5185\u6837\u5F0F\uFF0C\u5728\u6837\u5F0F\u53C2\u4E0E\u903B\u8F91\u65F6\u884C\u5185\u6837\u5F0F\u5177\u6709\u9AD8\u5EA6\u4F18\u52BF\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">colors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;palevioletred&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;papayawhip&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> styles <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token string">&quot;50px 0&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> state<span class="token punctuation">.</span>colors<span class="token punctuation">[</span>state<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">textAlign</span><span class="token operator">:</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onClickHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>state<span class="token punctuation">,</span>
      <span class="token literal-property property">index</span><span class="token operator">:</span> state<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> state<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClickHandler<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      Hello React
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="_2-7-3-css-modules" tabindex="-1">2.7.3 CSS Modules <a class="header-anchor" href="#_2-7-3-css-modules" aria-hidden="true">#</a></h4><p>\u901A\u8FC7 CSS \u6A21\u5757\u53EF\u4EE5\u5B9E\u73B0\u7EC4\u4EF6\u7EA7\u6837\u5F0F\uFF0C\u6837\u5F0F\u6587\u4EF6\u540D\u79F0\u7EA6\u5B9A\u683C\u5F0F: [name].module.css</p><div class="language-css line-numbers-mode"><pre><code><span class="token comment">/* App.module.css */</span>
<span class="token selector">.button</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #5cb85c<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 6px 12px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 1.42857143<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// App.js</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&quot;./App.module.css&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>button<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">button</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2-7-4-classnames" tabindex="-1">2.7.4 classnames <a class="header-anchor" href="#_2-7-4-classnames" aria-hidden="true">#</a></h4><p>\u901A\u8FC7 <a href="https://www.npmjs.com/package/classnames" target="_blank" rel="noopener noreferrer">classnames</a> \u7B2C\u4E09\u65B9\u5E93\u53EF\u4EE5\u5B9E\u73B0 <code>className</code> \u5C5E\u6027\u503C\u7684\u52A8\u6001\u7ED1\u5B9A\u3002</p><div class="language-bash line-numbers-mode"><pre><code>// \u4E0B\u8F7D classnames \u7B2C\u4E09\u65B9\u5E93
<span class="token function">npm</span> <span class="token function">install</span> classnames
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// \u6CE8\u610F: classNames \u65B9\u6CD5\u7684\u53C2\u6570\u4E2A\u6570\u6CA1\u6709\u9650\u5236</span>
<span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &#39;foo bar&#39;</span>
<span class="token function">classNames</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string-property property">&#39;bar&#39;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &#39;foo-bar&#39;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> classNames <span class="token keyword">from</span> <span class="token string">&quot;classnames&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">App works</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-8-\u4F20\u9001\u95E8\u7EC4\u4EF6" tabindex="-1">2.8 \u4F20\u9001\u95E8\u7EC4\u4EF6 <a class="header-anchor" href="#_2-8-\u4F20\u9001\u95E8\u7EC4\u4EF6" aria-hidden="true">#</a></h3><h4 id="_2-8-1-\u5DF2\u77E5\u95EE\u9898" tabindex="-1">2.8.1 \u5DF2\u77E5\u95EE\u9898 <a class="header-anchor" href="#_2-8-1-\u5DF2\u77E5\u95EE\u9898" aria-hidden="true">#</a></h4><p>\u9700\u6C42: \u5728 App \u7EC4\u4EF6\u4E2D\u70B9\u51FB\u6309\u94AE\u6E32\u67D3\u5F39\u6846\u7EC4\u4EF6\u3002</p><p>\u95EE\u9898: \u5F39\u6846\u7EC4\u4EF6\u88AB\u6E32\u67D3\u5230 App \u7EC4\u4EF6\u5185\u90E8\uFF0C\u5F39\u6846\u7EC4\u4EF6\u7684\u6837\u5F0F\u53D7\u5230\u4E86 App \u7EC4\u4EF6\u5143\u7D20\u7684\u5F71\u54CD\uFF0C\u5BFC\u81F4\u5E03\u5C40\u9519\u4E71\u3002</p><p><span style="color:skyblue;">\u671F\u671B\u7684\u7ED3\u679C\u5982\u4E0B \u2193</span></p><img src="https://raw.githubusercontent.com/zjp693/Zhang_blog/main/docs/public/images/04_React%E7%AC%94%E8%AE%B0.assets/28.png" width="65%"><p><span style="color:skyblue;">\u5B9E\u9645\u7684\u7ED3\u679C\u5982\u4E0B \u2193</span></p><img src="https://raw.githubusercontent.com/zjp693/Zhang_blog/main/docs/public/images/04_React%E7%AC%94%E8%AE%B0.assets/29.png" width="65%"><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/App.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Modal <span class="token keyword">from</span> <span class="token string">&quot;./Modal&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isOpen<span class="token punctuation">,</span> setIsOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> appStyles <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">&quot;60%&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token string">&quot;translate(0,0)&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>appStyles<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setIsOpen</span><span class="token punctuation">(</span><span class="token operator">!</span>isOpen<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">open modal</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>isOpen <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Modal</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/Modal.js</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&quot;./Modal.module.css&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Modal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>overlayer<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>content<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Modal<span class="token punctuation">;</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-css line-numbers-mode"><pre><code><span class="token comment">/* src/Modal.module.css */</span> 
<span class="token selector">.overlayer</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.content</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 450px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="_2-8-2-\u4F20\u9001\u95E8\u7EC4\u4EF6" tabindex="-1">2.8.2 \u4F20\u9001\u95E8\u7EC4\u4EF6 <a class="header-anchor" href="#_2-8-2-\u4F20\u9001\u95E8\u7EC4\u4EF6" aria-hidden="true">#</a></h4><p>\u901A\u8FC7 <code>ReactDOM.createPortal</code> \u65B9\u6CD5\u53EF\u4EE5\u5C06\u6307\u5B9A\u7EC4\u4EF6\u6E32\u67D3\u5230\u6307\u5B9A\u4F4D\u7F6E\u3002</p><div class="language-html line-numbers-mode"><pre><code><span class="token comment">&lt;!-- public/index.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>portal-root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/Modal.js</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&quot;./Modal.module.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Modal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createPortal</span><span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>overlayer<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>content<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;portal-root&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Modal<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_3-\u7EC4\u4EF6\u5316\u5F00\u53D1\u8FDB\u9636" tabindex="-1">3.\u7EC4\u4EF6\u5316\u5F00\u53D1\u8FDB\u9636 <a class="header-anchor" href="#_3-\u7EC4\u4EF6\u5316\u5F00\u53D1\u8FDB\u9636" aria-hidden="true">#</a></h2><h3 id="_3-4-1-\u6982\u8FF0\u4E0E\u5B9E\u4F8B" tabindex="-1">3.4.1 \u6982\u8FF0\u4E0E\u5B9E\u4F8B <a class="header-anchor" href="#_3-4-1-\u6982\u8FF0\u4E0E\u5B9E\u4F8B" aria-hidden="true">#</a></h3><p>\u901A\u8FC7useRef\u65B9\u6CD5\u4E0D\u4EC5\u53EF\u4EE5\u83B7\u53D6DOM\u5BF9\u8C61\uFF0C\u5B83\u8FD8\u53EF\u4EE5\u7528\u4E8E\u4FDD\u5B58\u6570\u636E\u3002</p><p>\u4F7F\u7528\u5B83\u4FDD\u5B58\u7684\u6570\u636E\u8131\u79BB\u7EC4\u4EF6\u6E32\u67D3\uFF0C\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5373\u4F7F\u7EC4\u4EF6\u91CD\u65B0\u6E32\u67D3\u503C\u4ED6\u4F9D\u7136\u5B58\u5728\uFF0C\u800C\u4E14\u503C\u7684\u6539\u53D8\u4E0D\u4F1A\u5F15\u53D1\u8BD5\u56FE\u66F4\u65B0\u3002</p><p>\u9700\u6C42\uFF1A\u8BB0\u5F55\u7EC4\u4EF6\u6E32\u67D3\u6B21\u6570</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span>setText<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> renderCount<span class="token operator">=</span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    renderCount<span class="token punctuation">.</span>current<span class="token operator">+=</span><span class="token number">1</span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span>renderCount<span class="token punctuation">.</span>current<span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_3-4-2-\u7591\u60D1" tabindex="-1">3.4.2 \u7591\u60D1 <a class="header-anchor" href="#_3-4-2-\u7591\u60D1" aria-hidden="true">#</a></h3><p>\u80FD\u4E0D\u80FD\u4E0D\u4F7F\u7528useRef\u65B9\u6CD5\u800C\u4F7F\u7528useState\u65B9\u6CD5\u8BB0\u5F55\u7EC4\u4EF6\u6E32\u67D3\u6B21\u6570\uFF1F</p><p>\u7B54\u6848\u662F\u4E0D\u80FD,\u56E0\u4E3A\u901A\u8FC7useState \u65B9\u6CD5\u58F0\u660E\u7684\u662F\u7EC4\u4EF6\u72B6\u6001\uFF0C\u7EC4\u4EF6\u72B6\u6001\u88AB\u6539\u53D8\u4F1A\u89E6\u53D1\u8BD5\u56FE\u66F4\u65B0\uFF0C\u4E00\u65E6\u89C6\u56FE\u66F4\u65B0\u5C31\u8981\u901A\u8FC7count\u8BB0\u5F55\u66F4\u65B0\u6B21\u6570\uFF0Ccount\u88AB\u6539\u53D8\u53C8\u4F1A\u89E6\u53D1\u89C6\u56FE\u66F4\u65B0\uFF0C\u4ECE\u800C\u5F15\u53D1\u7EC4\u4EF6\u7684\u65E0\u9650\u6B21\u5FAA\u73AF\u6E32\u67D3\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> setText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span>
        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setText</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_3-4-3-memo" tabindex="-1">3.4.3 memo <a class="header-anchor" href="#_3-4-3-memo" aria-hidden="true">#</a></h3><p>\u95EE\u9898\u4EE3\u7801\u5B9E\u4F8B</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">//src/App.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> ShowName <span class="token keyword">from</span> <span class="token string">&quot;./ShowName&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span>setIndex<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F20\u4E09&quot;</span><span class="token punctuation">)</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span>  timer<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token function">setIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>prev<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ShowName</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/ShowName.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ShowName</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ShowName rendered&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ShowName<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u4EE5\u4E0A\u4EE3\u7801\u7684\u95EE\u9898\u5728\u4E8E\u7236\u7EC4\u4EF6\u66F4\u65B0\u5F15\u8D77\u4E86\u5B50\u7EC4\u4EF6\u7684\u4E0D\u5FC5\u8981\u66F4\u65B0\uFF0C\u56E0\u4E3A\u5B50\u7EC4\u4EF6\u672C\u8EAB\u662F\u6CA1\u6709\u4EFB\u4F55\u53D8\u5316\u7684\u662F\u6CA1\u6709\u5FC5\u8981\u66F4\u65B0\u7684\u3002</p><h3 id="_3-5-2-\u57FA\u672C\u4F7F\u7528" tabindex="-1">3.5.2 \u57FA\u672C\u4F7F\u7528 <a class="header-anchor" href="#_3-5-2-\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a></h3><p>memo \u65B9\u6CD5\u53EF\u4EE5\u4E3A\u7EC4\u4EF6\u6DFB\u52A0\u8F93\u5165\u6570\u636E\uFF08props\uFF09\u7684\u5BF9\u6BD4\u903B\u8F91\uFF0C\u5982\u679C\u5F53\u524D\u6E32\u67D3\u65F6\u7684\u8F93\u5165\u6570\u636E\u548C\u4E0A\u4E00\u6B21\u6E32\u67D3\u65F6\u7684\u8F93\u5165\u6570\u636E\u4E00\u81F4\uFF0C\u963B\u6B62\u7EC4\u4EF6\u91CD\u65B0\u6E32\u67D3\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> memo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">memo</span><span class="token punctuation">(</span>ShowName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>memo\u65B9\u6CD5\u5185\u90E8\u91C7\u7528\u7684\u662F\u6D45\u5C42\u6BD4\u8F83\uFF0C\u6BD4\u8F83\u57FA\u672C\u6570\u636E\u7C7B\u578B\u7684\u503C\u662F\u5426\u76F8\u540C\uFF0C\u6BD4\u8F83\u5F15\u7528\u662F\u5426\u4E3A\u76F8\u540C\u7684\u5E94\u7528\u5730\u5740\u3002</p><p>\u4EE5\u4E0B\u4EE3\u7801\u5728\u7236\u7EC4\u4EF6\u6BCF\u6B21\u91CD\u65B0\u6E32\u67D3\u65F6\u90FD\u4F1A\u751F\u6210\u65B0\u7684person\u5BF9\u8C61,memo\u65B9\u6CD5\u5728\u5185\u90E8\u6BD4\u8F83\u65F6\u5F97\u5230\u7684\u90FD\u662F\u4E0D\u540C\u7684\u5BF9\u8C61\uFF0C\u6240\u4EE5\u6BCF\u6B21\u5B50\u7EC4\u4EF6\u4E5F\u4F1A\u8DDF\u7740\u91CD\u65B0\u6E32\u67D3\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ShowName</span></span> <span class="token attr-name">person</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;\u5F20\u4E09&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>memo\u65B9\u6CD5\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u5373\u4E3A\u6BD4\u8F83\u51FD\u6570\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5B83\u89E3\u51B3\u4EE5\u4E0A\u7684\u95EE\u9898\u3002\u6BD4\u8F83\u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3AprevProps,\u6BD4\u8F83\u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3AnextProps,\u6BD4\u8F83\u51FD\u6570\u8FD4\u56DEfalse\u7EC4\u4EF6\u91CD\u65B0\u6E32\u67D3\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">memo</span><span class="token punctuation">(</span>ShowName<span class="token punctuation">,</span> compareFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">compareFunction</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>prevProps<span class="token punctuation">.</span>person<span class="token punctuation">.</span>name <span class="token operator">===</span> nextProps<span class="token punctuation">.</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_3-6-usememo" tabindex="-1">3.6 useMemo <a class="header-anchor" href="#_3-6-usememo" aria-hidden="true">#</a></h3><p>\u95EE\u9898\u4EE3\u7801\u5B9E\u4F8B</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>number<span class="token punctuation">,</span> setNumber<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>dark<span class="token punctuation">,</span> setDark<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> styles <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> dark <span class="token operator">?</span> <span class="token string">&quot;black&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;white&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> dark <span class="token operator">?</span> <span class="token string">&quot;white&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">getItems</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>number<span class="token punctuation">,</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> number <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span>
        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prev <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setDark</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">dark</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>dark<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">button</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List</span></span> <span class="token attr-name">getItems</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getItems<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">List</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> getItems <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>items<span class="token punctuation">,</span> setItems<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setItems</span><span class="token punctuation">(</span><span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;update items&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>getItems<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="_3-7-2\u57FA\u672C\u4F7F\u7528" tabindex="-1">3.7.2\u57FA\u672C\u4F7F\u7528 <a class="header-anchor" href="#_3-7-2\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a></h3><p>\u901A\u8FC7<code>useCallback</code>\u65B9\u6CD5\u53EF\u4EE5\u7F13\u5B58\u51FD\u6570\uFF0C\u4F7F\u7528\u7EC4\u4EF6\u6BCF\u6B21\u91CD\u65B0\u6E32\u67D3\u90FD\u8FD4\u56DE\u76F8\u540C\u7684\u51FD\u6570\u5B9E\u4F8B\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u67D0\u4E2A\u72B6\u6001\u53D8\u5316\u540E\u8FD4\u56DE\u65B0\u7684\u51FD\u6570\u5B9E\u4F8B\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useCallback <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> getItems <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>number<span class="token punctuation">,</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> number <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_3-8useimperativehandle" tabindex="-1">3.8useImperativeHandle <a class="header-anchor" href="#_3-8useimperativehandle" aria-hidden="true">#</a></h3><h3 id="_3-8-1-\u6982\u8FF0" tabindex="-1">3.8.1 \u6982\u8FF0 <a class="header-anchor" href="#_3-8-1-\u6982\u8FF0" aria-hidden="true">#</a></h3><p>\u867D\u7136React\u9075\u5FAA\u5355\u9879\u6570\u636E\u6D41\u539F\u5219\uFF0C\u4F46\u51E1\u4E8B\u603B\u6709\u7279\u6B8A\u60C5\u51B5\uFF0CReact\u4E5F\u63D0\u4F9B\u4E86\u5B50\u7EC4\u4EF6\u5411\u7236\u7EC4\u4EF6\u4F20\u9012\u6570\u636E\u65B9\u5F0F</p><p>\u901A\u8FC7useImperativeHandle \u65B9\u5F0F\u53EF\u4EE5\u5B9E\u73B0\u7236\u7EC4\u4EF6\u83B7\u53D6\u7236\u7EC4\u4EF6\u83B7\u53D6\u5B50\u7EC4\u4EF6\u7684\u6570\u636E\u6216\u8005\u8C03\u7528\u5B50\u7EC4\u4EF6\u7684\u91CC\u9762\u7684\u58F0\u660E\u51FD\u6570\u3002</p><p>\u7236\u7EC4\u4EF6\u901A\u8FC7useRef \u65B9\u6CD5\u521B\u5EFA\u4E86\u4E00\u4E2A\u94A9\u5B50\uFF0C\u7528\u4E8E\u94A9\u53D6\u5B50\u7EC4\u4EF6\u7684\u6570\u636E\uFF0C\u5B50\u7EC4\u4EF6\u5728\u83B7\u53D6\u5230\u94A9\u5B50\u4EE5\u540E\uFF0C\u901A\u8FC7useImperativeHandle \u5411\u94A9\u5B50\u4E0A\u66B4\u9732\u6570\u636E\u3002</p><h3 id="_3-8-2-\u4EE3\u7801\u793A\u4F8B" tabindex="-1">3.8.2 \u4EE3\u7801\u793A\u4F8B <a class="header-anchor" href="#_3-8-2-\u4EE3\u7801\u793A\u4F8B" aria-hidden="true">#</a></h3><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/App.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Message <span class="token keyword">from</span> <span class="token string">&quot;./Message&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> messageRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onClickHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>messageRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Message</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>messageRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClickHandler<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">button</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/Messages.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> forwardRef<span class="token punctuation">,</span> useImperativeHandle<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Message</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> setText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useImperativeHandle</span><span class="token punctuation">(</span>ref<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> text<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span>
      <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setText</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span>Message<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_3-9-custom-hooks" tabindex="-1">3.9 Custom Hooks <a class="header-anchor" href="#_3-9-custom-hooks" aria-hidden="true">#</a></h3><h3 id="_3-9-1-\u6982\u8FF0" tabindex="-1">3.9.1 \u6982\u8FF0 <a class="header-anchor" href="#_3-9-1-\u6982\u8FF0" aria-hidden="true">#</a></h3><p>React\u5141\u8BB8\u5F00\u53D1\u8005\u521B\u5EFA\u81EA\u5B9A\u4E49\u94A9\u5B50\u51FD\u6570\u7528\u4E8E\u5411\u7EC4\u4EF6\u4E2D\u6DFB\u52A0\u529F\u80FD</p><p>\u81EA\u5B9A\u4E49\u94A9\u5B50\u51FD\u6570\u786E\u5B9E\u5C31\u662F\u5E94\u7528\u903B\u8F91\u548C\u5185\u7F6E\u94A9\u5B50\u51FD\u6570\u7684\u7EC4\u5408</p><h3 id="_3-9-2-usestorage" tabindex="-1">3.9.2 useStorage <a class="header-anchor" href="#_3-9-2-usestorage" aria-hidden="true">#</a></h3><p>\u7528\u4E8E\u5C06\u7EC4\u4EF6\u72B6\u6001\u5B9E\u65F6\u540C\u6B65\u5230\u672C\u5730\u5B58\u50A8localStorage\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">//src/localStorage.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useLocalStorage</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> initialValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u58F0\u660E\u72B6\u6001</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>storedValue<span class="token punctuation">,</span> setStoredValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u770B\u770B\u672C\u5730\u662F\u5426\u5B58\u5728\u5DF2\u6709\u72B6\u6001\u503C</span>
    <span class="token keyword">const</span> item <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5982\u679C\u672C\u5730\u5DF2\u7ECF\u6709\u4E86\u5C31\u7528\u672C\u5730\u7684, \u5426\u5219\u4F7F\u7528 initialValue</span>
    <span class="token keyword">return</span> item <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> initialValue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u5BF9\u8BBE\u7F6E\u72B6\u6001\u7684\u65B9\u6CD5\u8FDB\u884C\u589E\u5F3A, \u6DFB\u52A0\u72B6\u6001\u540C\u6B65\u5230\u672C\u5730\u5B58\u50A8\u7684\u529F\u80FD</span>
  <span class="token keyword">const</span> <span class="token function-variable function">setState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u83B7\u53D6\u65B0\u7684\u72B6\u6001\u503C</span>
    <span class="token comment">// \u5982\u679C value \u662F\u51FD\u6570\u7C7B\u578B, \u8C03\u7528\u51FD\u6570\u4F20\u9012\u73B0\u6709\u72B6\u6001, \u4ECE\u8FD4\u56DE\u503C\u4E2D\u83B7\u53D6\u65B0\u7684\u72B6\u6001</span>
    <span class="token comment">// \u5982\u679C value \u662F\u5176\u4ED6\u7C7B\u578B, \u76F4\u63A5\u4F5C\u4E3A\u72B6\u6001\u503C\u4F7F\u7528</span>
    <span class="token keyword">const</span> valueToStore <span class="token operator">=</span> value <span class="token keyword">instanceof</span> <span class="token class-name">Function</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">(</span>storedValue<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span>
    <span class="token comment">// \u8BBE\u7F6E\u72B6\u6001</span>
    <span class="token function">setStoredValue</span><span class="token punctuation">(</span>valueToStore<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5C06\u72B6\u6001\u503C\u540C\u6B65\u5230 localStorage</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>valueToStore<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8FD4\u56DE\u72B6\u6001\u53CA\u8BBE\u7F6E\u72B6\u6001\u7684\u65B9\u6CD5</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>storedValue<span class="token punctuation">,</span> setState<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">//src/App.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useLocaStorang <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./localStorage&#39;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span>setName<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">useLocaStorang</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>Enter your name<span class="token punctuation">&#39;</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    
     </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_3-9-3-usetoggle" tabindex="-1">3.9.3 useToggle <a class="header-anchor" href="#_3-9-3-usetoggle" aria-hidden="true">#</a></h3><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useCallback<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isTextChanged<span class="token punctuation">,</span> setIsTextChange<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setIsTextChange<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> </span><span class="token punctuation">{</span>isTextChanged <span class="token operator">?</span> <span class="token string">&quot;Toggled&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;click to Toggle&quot;</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">useToggle</span><span class="token punctuation">(</span><span class="token parameter">initialValue <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialValue<span class="token punctuation">)</span>
  <span class="token keyword">const</span> toggle <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>state<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> toggle<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> App
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="_3-9-4-useasync" tabindex="-1">3.9.4 useAsync <a class="header-anchor" href="#_3-9-4-useasync" aria-hidden="true">#</a></h4><p>\u7528\u4E8E\u6267\u884C\u5F02\u6B65\u4EE3\u7801\u5E76\u4E3A\u5F02\u6B65\u8FC7\u7A0B\u6DFB\u52A0\u72B6\u6001\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useCallback<span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useAsync</span><span class="token punctuation">(</span><span class="token parameter">asyncFunction<span class="token punctuation">,</span> immediate <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>status<span class="token punctuation">,</span> setStatus<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;idle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> execute <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">&quot;pending&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setError</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">asyncFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setValue</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>asyncFunction<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>execute<span class="token punctuation">,</span> immediate<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> execute<span class="token punctuation">,</span> status<span class="token punctuation">,</span> value<span class="token punctuation">,</span> error <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> useAsync <span class="token keyword">from</span> <span class="token string">&quot;./useAsync&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> rnd <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
      rnd <span class="token operator">&lt;=</span> <span class="token number">5</span> <span class="token operator">?</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;\u6210\u529F \u{1F64C}&quot;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;\u5931\u8D25 \u{1F61E}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> status<span class="token punctuation">,</span> value<span class="token punctuation">,</span> error<span class="token punctuation">,</span> execute <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAsync</span><span class="token punctuation">(</span>myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>status <span class="token operator">===</span> <span class="token string">&quot;idle&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Start your journey by clicking a button</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>status <span class="token operator">===</span> <span class="token string">&quot;success&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>status <span class="token operator">===</span> <span class="token string">&quot;error&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>error<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>execute<span class="token punctuation">}</span></span> <span class="token attr-name">disabled</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>status <span class="token operator">===</span> <span class="token string">&quot;pending&quot;</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>status <span class="token operator">!==</span> <span class="token string">&quot;pending&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;Click me&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Loading...&quot;</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="_3-9-5-usehover" tabindex="-1">3.9.5 useHover <a class="header-anchor" href="#_3-9-5-usehover" aria-hidden="true">#</a></h4><p>\u7528\u4E8E\u68C0\u6D4B\u5143\u7D20\u7684\u9F20\u6807\u79FB\u5165\u79FB\u9664\u64CD\u4F5C\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useHover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> elementRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleMouseEnter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleMouseLeave</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> node <span class="token operator">=</span> elementRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    node<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseenter&quot;</span><span class="token punctuation">,</span> handleMouseEnter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    node<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseleave&quot;</span><span class="token punctuation">,</span> handleMouseLeave<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseenter&quot;</span><span class="token punctuation">,</span> handleMouseEnter<span class="token punctuation">)</span><span class="token punctuation">;</span>
      node<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseleave&quot;</span><span class="token punctuation">,</span> handleMouseLeave<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>elementRef<span class="token punctuation">,</span> value<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> useHover <span class="token keyword">from</span> <span class="token string">&quot;./useHover&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>hoverRef<span class="token punctuation">,</span> isHovered<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useHover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>hoverRef<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>isHovered <span class="token operator">?</span> <span class="token string">&quot;\u{1F601}&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;\u2639\uFE0F&quot;</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_3-9-6-usewindowsize" tabindex="-1">3.9.6 useWindowSize <a class="header-anchor" href="#_3-9-6-usewindowsize" aria-hidden="true">#</a></h4><p>\u7528\u4E8E\u83B7\u53D6\u6D4F\u89C8\u5668\u7684\u7A97\u53E3\u5927\u5C0F\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useWindowSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>windowSize<span class="token punctuation">,</span> setWindowSize<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">setWindowSize</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">handleResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> windowSize<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> useWindowSize <span class="token keyword">from</span> <span class="token string">&quot;./useWindowSize&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token function">useWindowSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>size<span class="token punctuation">.</span>width<span class="token punctuation">}</span><span class="token plain-text">px / </span><span class="token punctuation">{</span>size<span class="token punctuation">.</span>height<span class="token punctuation">}</span><span class="token plain-text">px
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_3-9-7-usereducerasync" tabindex="-1">3.9.7 useReducerAsync <a class="header-anchor" href="#_3-9-7-usereducerasync" aria-hidden="true">#</a></h4><p>\u901A\u8FC7 useReducerAsync \u81EA\u5B9A\u4E49\u94A9\u5B50\u51FD\u6570\u53EF\u4EE5\u5B9E\u73B0\u5728 useReducer \u7684\u5DE5\u4F5C\u6D41\u7A0B\u4E2D\u878D\u5165\u526F\u4F5C\u7528\u4EE3\u7801\u3002</p><p>\u9996\u5148\u770B\u4E00\u6BB5\u6CA1\u6709\u8BE5\u94A9\u5B50\u51FD\u6570\u7684\u4EE3\u7801\uFF0C\u9700\u6C42\u662F\u5728\u70B9\u51FB\u6309\u94AE\u65F6\u83B7\u53D6id\u503C\u4E3A1\u7684\u4EFB\u52A1\u5BF9\u8C61\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useReducer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;setTodo&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>state<span class="token punctuation">,</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onClickHandler</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://jsonplaceholder.typicode.com/todos/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;setTodo&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> response<span class="token punctuation">.</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">onClickHandler</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">button</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>\u4EE5\u4E0A\u4EE3\u7801\u7684\u95EE\u9898\u5728\u4E8E\uFF0C\u4EFB\u52A1\u72B6\u6001\u7684\u5904\u7406\u6709\u4E00\u90E8\u5206\u5728\u7EC4\u4EF6\u5185\u90E8\u4E00\u90E8\u5206\u5728\u7EC4\u4EF6\u5916\u90E8\uFF0C\u4EE3\u7801\u8FC7\u4E8E\u5206\u6563\u3002</p><p>\u901A\u8FC7 <a href="https://github.com/dai-shi/use-reducer-async" target="_blank" rel="noopener noreferrer">useReducerAsync</a> \u81EA\u5B9A\u4E49\u94A9\u5B50\u51FD\u6570\u53EF\u4EE5\u5C06\u5904\u7406\u72B6\u6001\u8FC7\u7A0B\u4E2D\u7684\u526F\u4F5C\u7528\u4EE3\u7801\u62BD\u79BB\u5230\u7EC4\u4EF6\u5916\u90E8\u3002</p><p><code>npm install use-reducer-async</code></p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useReducerAsync <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;use-reducer-async&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;setTodo&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>state<span class="token punctuation">,</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> asyncHandlers <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">loadTodo</span><span class="token operator">:</span>
    <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> dispatch <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://jsonplaceholder.typicode.com/todos/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>action<span class="token punctuation">.</span>payload<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;setTodo&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> response<span class="token punctuation">.</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducerAsync</span><span class="token punctuation">(</span>
    reducer<span class="token punctuation">,</span>
    initialState<span class="token punctuation">,</span>
    asyncHandlers
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;loadTodo&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        button
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h3 id="_3-10-children" tabindex="-1">3.10 Children <a class="header-anchor" href="#_3-10-children" aria-hidden="true">#</a></h3><h4 id="_3-10-1-only" tabindex="-1">3.10.1 only <a class="header-anchor" href="#_3-10-1-only" aria-hidden="true">#</a></h4><p>\u901A\u8FC7 <code>Children.only</code> \u65B9\u6CD5\u53EF\u4EE5\u9650\u5236\u7EC4\u4EF6\u6807\u7B7E\u53EA\u63A5\u6536\u4E00\u4E2A\u5B50\u5143\u7D20\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> Message <span class="token keyword">from</span> <span class="token string">&quot;./Message&quot;</span><span class="token punctuation">;</span>
	
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4E0D\u5141\u8BB8 Message \u7EC4\u4EF6\u6807\u7B7E\u4F20\u5165\u591A\u4E2A\u5B50\u5143\u7D20, \u9700\u8981\u5BF9\u8FD9\u79CD\u60C5\u51B5\u8FDB\u884C\u9650\u5236</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Message</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Message</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Children <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Message</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    Children<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Error: React.Children.only expected to receive a single React element child.</span>
    <span class="token comment">// \u9519\u8BEF: React.children \u53EA\u671F\u671B\u63A5\u6536\u4E00\u4E2A React \u5143\u7D20</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Message \u7EC4\u4EF6\u6807\u7B7E\u53EA\u63A5\u6536\u4E00\u4E2A\u5B50\u5143\u7D20 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_3-10-2-count" tabindex="-1">3.10.2 count <a class="header-anchor" href="#_3-10-2-count" aria-hidden="true">#</a></h4><p>\u901A\u8FC7 <code>Children.count</code> \u65B9\u6CD5\u53EF\u4EE5\u83B7\u53D6\u7EC4\u4EF6\u6807\u7B7E\u4F20\u5165\u7684\u5B50\u5143\u7D20\u7684\u6570\u91CF\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Children <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Message</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>Children<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_3-10-3-map" tabindex="-1">3.10.3 map <a class="header-anchor" href="#_3-10-3-map" aria-hidden="true">#</a></h4><p>\u901A\u8FC7 <code>Children.map</code> \u65B9\u6CD5\u53EF\u4EE5\u5BF9\u7EC4\u4EF6\u6807\u7B7E\u5185\u90E8\u7684\u5B50\u5143\u7D20\u8FDB\u884C\u8F6C\u6362\u64CD\u4F5C\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Message</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://images.pexels.com/photos/10198426/pexels-photo-10198426.jpeg<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://images.pexels.com/photos/4386364/pexels-photo-4386364.jpeg<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://images.pexels.com/photos/9812128/pexels-photo-9812128.jpeg<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://images.pexels.com/photos/8746965/pexels-photo-8746965.jpeg<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Message</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Children <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Message</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> items <span class="token operator">=</span> Children<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.baidu.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>items<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_3-10-4-toarray" tabindex="-1">3.10.4 toArray <a class="header-anchor" href="#_3-10-4-toarray" aria-hidden="true">#</a></h4><p><code>props.children</code> \u5185\u5B58\u50A8\u591A\u4E2A\u503C\u65F6\u662F\u6570\u7EC4\u7C7B\u578B\uFF0C\u5B58\u50A8\u4E00\u4E2A\u503C\u65F6\u4E3A\u5BF9\u8C61\u7C7B\u578B\u3002</p><p>\u901A\u8FC7 <code>Children.toArray</code> \u65B9\u6CD5\u53EF\u4EE5\u5C06 <code>props.children</code> \u8F6C\u6362\u4E3A\u6570\u7EC4\u7C7B\u578B\uFF0C\u4EE5\u4FDD\u8BC1 <code>Children.map</code> \u65B9\u6CD5\u6C38\u8FDC\u6709\u7528\u3002</p><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/App.js</span>
<span class="token keyword">import</span> ImageToggle <span class="token keyword">from</span> <span class="token string">&quot;./ImageToggle&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ImageToggle</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://images.pexels.com/photos/10198426/pexels-photo-10198426.jpeg<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://images.pexels.com/photos/4386364/pexels-photo-4386364.jpeg<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://images.pexels.com/photos/9812128/pexels-photo-9812128.jpeg<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://images.pexels.com/photos/8746965/pexels-photo-8746965.jpeg<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ImageToggle</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><div class="language-jsx line-numbers-mode"><pre><code><span class="token comment">// src/ImageToggle.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState<span class="token punctuation">,</span> Children <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ImageToggle</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">current</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>prev<span class="token punctuation">,</span> <span class="token literal-property property">total</span><span class="token operator">:</span> Children<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>props<span class="token punctuation">.</span>children<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>showNext<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">showNext</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> current<span class="token punctuation">,</span> total <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        total<span class="token punctuation">,</span>
        <span class="token literal-property property">current</span><span class="token operator">:</span> current <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">===</span> total <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> current <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>Children<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">[</span>state<span class="token punctuation">.</span>current<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_3-11-context" tabindex="-1">3.11 Context <a class="header-anchor" href="#_3-11-context" aria-hidden="true">#</a></h3><div class="language-"><pre><code>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_5-react\u8DEF\u7531v6" tabindex="-1">5.React\u8DEF\u7531v6 <a class="header-anchor" href="#_5-react\u8DEF\u7531v6" aria-hidden="true">#</a></h2><h3 id="_5-1-\u5BA2\u6237\u7AEF\u8DEF\u7531\u6982\u8FF0" tabindex="-1">5.1 \u5BA2\u6237\u7AEF\u8DEF\u7531\u6982\u8FF0 <a class="header-anchor" href="#_5-1-\u5BA2\u6237\u7AEF\u8DEF\u7531\u6982\u8FF0" aria-hidden="true">#</a></h3><p>\u5728 Web \u5E94\u7528\u4E2D\uFF0C\u5BA2\u6237\u7AEF\u8DEF\u7531\u5C31\u662F\u5BFC\u822A\uFF0C\u5C31\u662F URL \u5730\u5740\u4E0E\u9875\u9762\u4E4B\u95F4\u7684\u5BF9\u5E94\u5173\u7CFB\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u70B9\u51FB\u4E0D\u540C\u7684\u94FE\u63A5\u8DF3\u8F6C\u5230\u4E0D\u540C\u7684\u9875\u9762\u3002</p><p>\u4F20\u7EDF Web \u5E94\u7528\u7684\u4E2D\u7684\u8DEF\u7531\u662F\u7531 a \u6807\u8BB0\u5B9E\u73B0\u7684\uFF0C\u901A\u8FC7 a \u6807\u8BB0\u53EF\u4EE5\u5B9E\u73B0\u5728\u4E0D\u540C\u7684 HTML \u6587\u4EF6\u4E4B\u95F4\u8FDB\u884C\u8DF3\u8F6C\u3002</p><p>\u5728 React \u5E94\u7528\u4E2D\uFF0C\u53EA\u6709\u4E00\u4E2A HTML \u6587\u4EF6\uFF0CReact \u5E94\u7528\u901A\u8FC7\u4E0D\u540C\u7684\u7EC4\u4EF6\u6A21\u62DF\u4E0D\u540C\u7684\u9875\u9762\uFF0C\u6240\u4EE5 React \u5E94\u7528\u4E2D\u7684\u8DEF\u7531\u8981\u5B9E\u73B0\u7684\u662F\u5728\u4E0D\u540C\u7684\u7EC4\u4EF6\u4E4B\u95F4\u8FDB\u884C\u8DF3\u8F6C\u3002</p><img src="https://raw.githubusercontent.com/zjp693/Zhang_blog/main/docs/public/images/04_React%E7%AC%94%E8%AE%B0.assets/41.png" align="left" width="50%"><img src="https://raw.githubusercontent.com/zjp693/Zhang_blog/main/docs/public/images/04_React%E7%AC%94%E8%AE%B0.assets/42.gif" align="left" width="45%"><div class="language-bash line-numbers-mode"><pre><code>	<span class="token function">npm</span> <span class="token function">install</span> react-router-dom
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_5-2-\u57FA\u672C\u4F7F\u7528" tabindex="-1">5.2 \u57FA\u672C\u4F7F\u7528 <a class="header-anchor" href="#_5-2-\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a></h3><p>\u9700\u6C42\uFF1A\u4E3A\u5E94\u7528\u521B\u5EFA\u9996\u9875\u548C\u5173\u4E8E\u6211\u4EEC\u4E24\u4E2A\u9875\u9762\u3002</p><ol><li><p>\u521B\u5EFA\u9875\u9762\u7EA7\u8DEF\u7531\u7EC4\u4EF6</p><p><code>src/pages/Home.js</code></p><div class="language-react line-numbers-mode"><pre><code>function Home() {
  return &lt;div&gt;\u6B22\u8FCE\u6765\u5230\u9996\u9875 \u{1F336}\u{1F336}\u{1F336} &lt;/div&gt;;
}
export default Home;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>src/pages/News.js</code></p><div class="language-react line-numbers-mode"><pre><code>function News() {
  return &lt;div&gt;\u6B22\u8FCE\u6765\u5230\u5173\u4E8E\u65B0\u95FB\u9875 \u{1F601}\u{1F601}\u{1F601}&lt;/div&gt;;
}
export default News;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>src/pages/Error.js</code></p><div class="language-react line-numbers-mode"><pre><code>function Error() {
  return &lt;div&gt;\u9875\u9762\u8D70\u4E22\u4E86 \u{1F62D}\u{1F62D}\u{1F62D}&lt;/div&gt;;
}
export default Error;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u914D\u7F6E\u8DEF\u7531\u89C4\u5219</p><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { BrowserRouter, Routes, Route } from &quot;react-router-dom&quot;;
import News from &quot;./pages/News&quot;;
import Home from &quot;./pages/Home&quot;;

function App() {
  // \u6CE8\u610F: \u5728 v6 \u7248\u672C\u4E2D\uFF0C\u4E00\u65E6\u8DEF\u7531\u89C4\u5219\u5339\u914D\u6210\u529F\uFF0C\u5219\u4E0D\u518D\u7EE7\u7EED\u5411\u540E\u5339\u914D\uFF0C\u6240\u4EE5\u4E0D\u518D\u9700\u8981\u4F7F\u7528 exact \u5C5E\u6027
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;} /&gt;
        &lt;Route path=&quot;/news&quot; element={&lt;News /&gt;} /&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}

export default App;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li><li><p>\u4E3A\u5E94\u7528\u6DFB\u52A0\u7528\u4E8E\u8DF3\u8F6C\u9875\u9762\u7684\u94FE\u63A5\u5730\u5740</p><div class="language-react line-numbers-mode"><pre><code>import { Link } from &quot;react-router-dom&quot;;

function App() {
  // \u6CE8\u610F: react-router-dom \u63D0\u4F9B\u7684\u7EC4\u4EF6\u90FD\u5FC5\u987B\u88AB BrowserRouter \u7EC4\u4EF6\u5305\u88F9, \u5305\u62EC Link \u7EC4\u4EF6
  return (
    &lt;BrowserRouter&gt;
      &lt;Link to=&quot;/&quot;&gt;Home&lt;/Link&gt;
      &lt;Link to=&quot;/news&quot;&gt;News&lt;/Link&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol><h3 id="_5-3-navlink-\u7EC4\u4EF6" tabindex="-1">5.3 NavLink \u7EC4\u4EF6 <a class="header-anchor" href="#_5-3-navlink-\u7EC4\u4EF6" aria-hidden="true">#</a></h3><p>link\u7EC4\u4EF6\u662F\u7528\u4E8E\u751F\u6210\u666E\u901A\u94FE\u63A5\u7684\u7EC4\u4EF6\uFF0C\u5BFC\u822A\u94FE\u63A5\u5E94\u8BE5\u4F7F\u7528NavLink\u7EC4\u4EF6\uFF0C\u5F53\u524D\u94FE\u63A5\u96C6\u6FC0\u6D3B\u65F6\uFF0C\u94FE\u63A5\u5143\u7D20\u8EAB\u4E0A\u4F1A\u81EA\u52A8\u6DFB\u52A0active\u6FC0\u6D3B\u7C7B\u540D\u3002</p><div class="language-react line-numbers-mode"><pre><code>&lt;NavLink to=&quot;/&quot;&gt;
  Home
&lt;/NavLink&gt;
&lt;NavLink to=&quot;/news&quot;&gt;
  News
&lt;/NavLink&gt;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u66F4\u6539\u9ED8\u8BA4\u7684\u6FC0\u6D3B\u7C7B\u540D\u3002</p><div class="language-react line-numbers-mode"><pre><code>    const activeClassName = ({ isActive }) =&gt; (isActive ? &quot;on&quot; : &quot;off&quot;);

    &lt;NavLink to=&quot;/&quot; className={activeClassName}&gt;
      Home
    &lt;/NavLink&gt;
    &lt;NavLink to=&quot;/about&quot; className={activeClassName}&gt;
      News
    &lt;/NavLink&gt;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u901A\u8FC7\u540C\u6837\u7684\u65B9\u5F0F\u4E5F\u53EF\u4EE5\u4E3A\u5BFC\u822A\u94FE\u63A5\u6DFB\u52A0\u5185\u6837\u5F0F</p><div class="language-react line-numbers-mode"><pre><code>&lt;NavLink to=&quot;/&quot; style={({ isActive }) =&gt; ({ color: isActive ? &quot;red&quot; : &quot;blue&quot; })}&gt;
  Home
&lt;/NavLink&gt;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-4-404-\u4E0E-navigate" tabindex="-1">5.4 404 \u4E0E Navigate <a class="header-anchor" href="#_5-4-404-\u4E0E-navigate" aria-hidden="true">#</a></h3><p>\u5728\u8DEF\u7531\u89C4\u5219\u914D\u7F6E\u7684\u6700\u540E\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>*</code>\u53F7\u5339\u914D\u4E0D\u5B58\u5728\u7684\u8DEF\u7531\u89C4\u5219\uFF0C\u5339\u914D\u4EE5\u540E\u53EF\u4EE5\u6307\u5B9A\u8868\u793A404\u7684\u9875\u9762\u7EC4\u4EF6</p><div class="language-react line-numbers-mode"><pre><code>import React from &#39;react&#39;
import { BrowserRouter,Route,Routes } from &#39;react-router-dom&#39;
import Error from &#39;./pages/Error&#39;
function App() {
  return &lt;&gt;
    &lt;BrowserRouter&gt;
    &lt;Routes&gt;
      &lt;Route path=&quot;*&quot; element={&lt;Error/&gt;}&gt;&lt;/Route&gt;
    &lt;/Routes&gt;
   &lt;/BrowserRouter&gt;
   &lt;/&gt;
}

export default App
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u5982\u679C\u4E0D\u60F3\u5C55\u793A404\uFF0C\u4E5F\u53EF\u4EE5\u5C06\u8DEF\u7531\u91CD\u5B9A\u5411\u5230\u5E94\u7528\u4E2D\u5DF2\u7ECF\u5B58\u5728\u7684\u9875\u9762\u8DEF\u7531\u7EC4\u4EF6\u3002</p><div class="language-react line-numbers-mode"><pre><code>import { Navigate } from &quot;react-router-dom&quot;;

function App() {
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route path=&quot;*&quot; element={&lt;Navigate to=&quot;/&quot; /&gt;} /&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_5-5\u5D4C\u5957\u8DEF\u7531" tabindex="-1">5.5\u5D4C\u5957\u8DEF\u7531 <a class="header-anchor" href="#_5-5\u5D4C\u5957\u8DEF\u7531" aria-hidden="true">#</a></h3><p>\u5D4C\u5957\u8DEF\u7531\u53EF\u4EE5\u7406\u89E3\u4E3A\u4E8C\u7EA7\u8DEF\u7531\u4E43\u81F3\u4E09\u7EA7\u8DEF\u7531. \u5C31\u662F\u5728\u8DEF\u7531\u7EC4\u4EF6\u4E2D\u8FD8\u5305\u542B\u8DEF\u7531\u5339\u914D\u7EC4\u4EF6\u3002</p><img src="https://raw.githubusercontent.com/zjp693/Zhang_blog/main/docs/public/images/04_React%E7%AC%94%E8%AE%B0.assets/40.png" align="left" width="55%"><ol><li><p>\u914D\u7F6E\u65B0\u95FB\u9875\u9762\u4E2D\u7684\u4E8C\u7EA7\u8DEF\u7531\u89C4\u5219</p><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>import News from &quot;./pages/News&quot;;
import InnerNews from &quot;./pages/InnerNews&quot;;
import OuterNews from &quot;./pages/OuterNews&quot;;

function App() {
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route path=&quot;/news&quot; element={&lt;News /&gt;}&gt;
          &lt;Route path=&quot;inner&quot; element={&lt;InnerNews /&gt;} /&gt;
          &lt;Route path=&quot;outer&quot; element={&lt;OuterNews /&gt;} /&gt;
        &lt;/Route&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li><li><p>\u5728\u4E00\u7EA7\u8DEF\u7531\u9875\u9762\u7EC4\u4EF6 ( \u65B0\u95FB\u9875\u9762\u7EC4\u4EF6 ) \u4E2D\u653E\u7F6E\u8DEF\u7531\u63D2\u69FD\u3001\u914D\u7F6E\u8DF3\u8F6C\u94FE\u63A5</p><p><code>src/pages/News.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { NavLink, Outlet } from &quot;react-router-dom&quot;;

function News() {
  return (
    &lt;div&gt;
      &lt;p&gt;\u6B22\u8FCE\u6765\u5230\u5173\u4E8E\u65B0\u95FB\u9875 \u{1F601}\u{1F601}\u{1F601}&lt;/p&gt;
      &lt;NavLink to=&quot;/news/inner&quot;&gt;\u56FD\u5185\u65B0\u95FB&lt;/NavLink&gt;
      &lt;NavLink to=&quot;/news/outer&quot;&gt;\u56FD\u9645\u65B0\u95FB&lt;/NavLink&gt;
      &lt;Outlet /&gt;
    &lt;/div&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ol><h3 id="_5-6\u7D22\u5F15\u8DEF" tabindex="-1">5.6\u7D22\u5F15\u8DEF <a class="header-anchor" href="#_5-6\u7D22\u5F15\u8DEF" aria-hidden="true">#</a></h3><p>\u7531\u663E\u793A\u7684\u4E8C\u7EA7\u8DEF\u7531\uFF0C\u6BD4\u5982\u4E0A\u8FF0\u6848\u4F8B\u4E2D\uFF0C\u5F53\u8FDB\u5165\u65B0\u95FB\u9875\u9762\u65F6\u4E8C\u7EA7\u8DEF\u7531\u7EC4\u4EF6\u6240\u5728\u533A\u57DF\u662F\u7A7A\u767D\u7684\uFF0C\u8BE5\u7F3A\u9677\u5C31\u53EF\u4EE5\u901A\u8FC7\u7D22\u5F15\u8DEF\u7531\u8865\u6551\u3002</p><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>function App() {
  // \u6CE8\u610F: \u7D22\u5F15\u8DEF\u7531\u4E0D\u80FD\u6709 path
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route path=&quot;/news&quot; element={&lt;News /&gt;}&gt;
          &lt;Route index element={&lt;InnerNews /&gt;} /&gt;
          &lt;Route path=&quot;inner&quot; element={&lt;InnerNews /&gt;} /&gt;
          &lt;Route path=&quot;outer&quot; element={&lt;OuterNews /&gt;} /&gt;
        &lt;/Route&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_5-7-\u7F16\u7A0B\u5F0F\u5BFC\u822A" tabindex="-1">5.7 \u7F16\u7A0B\u5F0F\u5BFC\u822A <a class="header-anchor" href="#_5-7-\u7F16\u7A0B\u5F0F\u5BFC\u822A" aria-hidden="true">#</a></h3><p>\u901A\u8FC7\u4E8B\u4EF6\u7684\u65B9\u5F0F\u8FDB\u884C\u8DF3\u8F6C\u3002</p><div class="language-react line-numbers-mode"><pre><code>import { useNavigate } from &quot;react-router-dom&quot;;

function Home() {
  const navigate = useNavigate();
  return &lt;button onClick={() =&gt; navigate(&quot;/news&quot;)}&gt;News&lt;/button&gt;;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_5-8-\u8DEF\u7531\u53C2\u6570" tabindex="-1">5.8 \u8DEF\u7531\u53C2\u6570 <a class="header-anchor" href="#_5-8-\u8DEF\u7531\u53C2\u6570" aria-hidden="true">#</a></h3><p>\u901A\u8FC7\u8DEF\u7531\u53C2\u6570\u53EF\u4EE5\u5B9E\u73B0\u5728\u4E0D\u540C\u7684\u9875\u9762\u7EC4\u4EF6\u4E4B\u95F4\u8DF3\u8F6C\u65F6\u643A\u5E26\u6570\u636E\u3002</p><p>\u6BD4\u5982\u5728\u6587\u7AE0\u5217\u8868\u9875\u9762\u4E2D\uFF0C\u70B9\u51FB\u67D0\u4E00\u7BC7\u6587\u7AE0\u8DF3\u8F6C\u5230\u6587\u7AE0\u8BE6\u60C5\u9875\u9762\uFF0C\u6B64\u65F6\u5C31\u9700\u8981\u5C06\u88AB\u70B9\u51FB\u7684\u90A3\u7BC7\u6587\u7AE0\u7684 id \u4F20\u9012\u5230\u6587\u7AE0\u8BE6\u60C5\u9875\u9762\u3002</p><p>\u5728\u5E94\u7528\u4E2D\u4F1A\u6709\u5F88\u591A\u7BC7\u6587\u7AE0\uFF0C\u4F46\u662F\u6587\u7AE0\u8BE6\u60C5\u9875\u9762\u7EC4\u4EF6\u53EA\u6709\u4E00\u4E2A\uFF0C\u53EF\u4EE5\u5C06\u5B83\u7406\u89E3\u4E3A\u6587\u7AE0\u8BE6\u60C5\u7684\u6A21\u677F\u9875\u9762\uFF0C\u5728\u8DF3\u8F6C\u5230\u8FD9\u4E2A\u6A21\u677F\u9875\u9762\u65F6\uFF0C\u9700\u8981\u5C06\u6587\u7AE0id\u4F20\u8FDB\u6765\uFF0C\u5728\u6A21\u677F\u9875\u9762\u4E2D\u9700\u8981\u901A\u8FC7 id \u83B7\u53D6\u8BE6\u60C5\uFF0C\u4ECE\u800C\u5C55\u793A\u8BE6\u60C5\u6570\u636E\u3002</p><ol><li><p>\u6DFB\u52A0\u8DEF\u7531\u89C4\u5219\u5E76\u6307\u5B9A\u8DF3\u8F6C\u5230\u8BE5\u8DEF\u7531\u65F6\u9700\u8981\u4F20\u9012\u53C2\u6570</p><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>import Detail from &quot;./pages/Detail&quot;;

function App() {
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route path=&quot;/detail/:id&quot; element={&lt;Detail /&gt;} /&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u5728\u5B9E\u73B0\u8DF3\u8F6C\u7684\u8DEF\u7531\u94FE\u63A5\u4E2D\u4F20\u9012\u53C2\u6570</p><p><code>src/pages/Home.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { Link } from &quot;react-router-dom&quot;;

function Home() {
  return (
    &lt;ul&gt;
      &lt;li&gt;
        &lt;Link to=&quot;/detail/1&quot;&gt;\u8001\u65E7\u5C0F\u533A\u6539\u9020, \u8FD9\u4E09\u533A\u540D\u5355\u6765\u4E86!&lt;/Link&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;Link to=&quot;/detail/2&quot;&gt;\u7A7F\u978B\u628A\u811A\u653E\u5217\u8F66\u5EA7\u4F4D\u4E0A, \u97E9\u603B\u7EDF\u5019\u9009\u4EBA\u5C39\u9521\u60A6\u5F15\u53D1\u7F51\u53CB\u6279..&lt;/Link&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>\u5728\u76EE\u6807\u8DF3\u8F6C\u9875\u9762\u7EC4\u4EF6\u63A5\u6536\u8DEF\u7531\u53C2\u6570</p><p><code>src/pages/Detail.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { useParams } from &quot;react-router-dom&quot;;

function Detail() {
  const { id } = useParams();
  return &lt;div&gt;Detail Page {id}&lt;/div&gt;;
}

export default Detail;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol><h3 id="_5-9-\u67E5\u8BE2\u53C2\u6570" tabindex="-1">5.9 \u67E5\u8BE2\u53C2\u6570 <a class="header-anchor" href="#_5-9-\u67E5\u8BE2\u53C2\u6570" aria-hidden="true">#</a></h3><ol><li><p>\u5B9A\u4E49\u8DEF\u7531\u65F6\u4E0D\u9700\u8981\u52A0\u8DEF\u7531\u53C2\u6570\u5360\u4F4D\u7B26</p><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>function App() {
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route path=&quot;/detail&quot; element={&lt;Detail /&gt;} /&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>\u5728\u94FE\u63A5\u8DF3\u8F6C\u65F6\u6DFB\u52A0\u53C2\u6570</p><p><code>src/pages/Home.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { Link } from &quot;react-router-dom&quot;;

function Home() {
  return (
    &lt;ul&gt;
      &lt;li&gt;
        &lt;Link to=&quot;/detail?id=1&quot;&gt;\u8001\u65E7\u5C0F\u533A\u6539\u9020, \u8FD9\u4E09\u533A\u540D\u5355\u6765\u4E86!&lt;/Link&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;Link to=&quot;/detail?id=2&quot;&gt;\u7A7F\u978B\u628A\u811A\u653E\u5217\u8F66\u5EA7\u4F4D\u4E0A, \u97E9\u603B\u7EDF\u5019\u9009\u4EBA\u5C39\u9521\u60A6\u5F15\u53D1\u7F51\u53CB\u6279..&lt;/Link&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>\u5728\u76EE\u6807\u8DF3\u8F6C\u9875\u9762\u7EC4\u4EF6\u63A5\u6536\u8DEF\u7531\u53C2\u6570</p><p><code>src/pages/Detail.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { useSearchParams } from &quot;react-router-dom&quot;;

function Detail() {
  const [searchParams] = useSearchParams();
  return &lt;div&gt;Detail Page {searchParams.get(&quot;id&quot;)}&lt;/div&gt;;
}

export default Detail;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol><h3 id="_5-10-\u8DEF\u7531\u7EC4\u4EF6\u61D2\u52A0\u8F7D" tabindex="-1">5.10 \u8DEF\u7531\u7EC4\u4EF6\u61D2\u52A0\u8F7D <a class="header-anchor" href="#_5-10-\u8DEF\u7531\u7EC4\u4EF6\u61D2\u52A0\u8F7D" aria-hidden="true">#</a></h3><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u5E94\u7528\u4E2D\u6240\u6709\u7684\u7EC4\u4EF6\u90FD\u88AB\u6253\u5305\u5230\u4E86\u540C\u4E00\u4E2A\u6587\u4EF6\u4E2D\uFF0C\u5C31\u662F\u8BF4\u5E94\u7528\u521D\u59CB\u52A0\u8F7D\u65F6\u5C31\u52A0\u8F7D\u4E86\u6240\u6709\u7684\u7EC4\u4EF6\uFF0C\u8FD9\u6837\u4F1A\u5BFC\u81F4\u521D\u59CB\u52A0\u8F7D\u5E94\u7528\u65F6\u95F4\u957F\u7528\u6237\u4F53\u9A8C\u5DEE\u3002</p><p>\u89E3\u51B3\u529E\u6CD5\u5C31\u662F\u5728\u6253\u5305\u5E94\u7528\u65F6\u4EE5\u9875\u9762\u7EC4\u4EF6\u4E3A\u5355\u4F4D\uFF0C\u5C06\u4E0D\u540C\u7684\u9875\u9762\u7EC4\u4EF6\u6253\u5305\u5230\u4E0D\u540C\u7684\u6587\u4EF6\u4E2D\uFF0C\u521D\u59CB\u52A0\u8F7D\u65F6\u53EA\u52A0\u8F7D\u7528\u6237\u8BBF\u95EE\u7684\u9875\u9762\u7EC4\u4EF6\u3002</p><ol><li><p>\u901A\u8FC7 lazy, import \u5F02\u6B65\u52A0\u8F7D\u7EC4\u4EF6</p><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { lazy } from &#39;react&#39;;

const Home = lazy(() =&gt; import(/* webpackChunkName: &quot;Home&quot; */ &quot;./pages/Home&quot;));
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u901A\u8FC7 import \u65B9\u6CD5\u52A8\u6001\u5BFC\u5165\u6A21\u5757\u65F6\uFF0Cwebpack \u4F1A\u5C06\u5BFC\u5165\u7684\u6A21\u5757\u62C6\u5206\u6210\u5355\u72EC\u7684\u6587\u4EF6\u3002</p><p>webpackChunkName \u5B9A\u4E49\u62C6\u5206\u6587\u4EF6\u540D\u79F0\u3002</p></li><li><p>\u5728\u8C03\u7528\u5F02\u6B65\u52A0\u8F7D\u7684\u7EC4\u4EF6\u65F6\uFF0C\u7EC4\u4EF6\u7684\u5916\u9762\u5FC5\u987B\u5305\u88F9 Suspense \u7EC4\u4EF6\uFF0C\u901A\u8FC7 Suspense \u7EC4\u4EF6\u53EF\u4EE5\u6307\u5B9A\u7EC4\u4EF6\u52A0\u8F7D\u8FC7\u7A0B\u4E2D\u7684\u7B49\u5F85 UI\u3002</p><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { Suspense } from &quot;react&quot;;

function App() {
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route
          path=&quot;/&quot;
          element={
            &lt;Suspense fallback={&lt;div&gt;loading...&lt;/div&gt;}&gt;
              &lt;Home /&gt;
            &lt;/Suspense&gt;
          }
        /&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li><li><p>\u5C01\u88C5 Loadable \u7EC4\u4EF6\u4EE5\u590D\u7528 Suspense \u7EC4\u4EF6</p><p><code>src/common/Loadable.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { Suspense } from &quot;react&quot;;

function Loadable(Component) {
  return function (props) {
    return (
      &lt;Suspense fallback={&lt;div&gt;loading...&lt;/div&gt;}&gt;
        &lt;Component {...props} /&gt;
      &lt;/Suspense&gt;
    );
  };
}

export default Loadable;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>import Loadable from &quot;./pages/Loadable&quot;;

const Home = Loadable(
  lazy(() =&gt; import(/* webpackChunkName: &quot;Home&quot; */ &quot;./pages/Home&quot;))
);

function App() {
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;}/&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ol><h3 id="_5-11-\u8DEF\u7531\u5B88\u536B-\u5355\u8DEF\u7531\u5B88\u536B" tabindex="-1">5.11 \u8DEF\u7531\u5B88\u536B \u5355\u8DEF\u7531\u5B88\u536B <a class="header-anchor" href="#_5-11-\u8DEF\u7531\u5B88\u536B-\u5355\u8DEF\u7531\u5B88\u536B" aria-hidden="true">#</a></h3><p>\u5F53\u7528\u6237\u53BB\u8BBF\u95EE\u90A3\u4E9B\u9700\u8981\u9274\u6743\u4EE5\u540E\u624D\u80FD\u8FDB\u5165\u7684\u8DEF\u7531\u7EC4\u4EF6\u65F6\uFF0C\u9700\u8981\u5148\u901A\u8FC7\u8DEF\u7531\u5B88\u536B\u5BF9\u5176\u8FDB\u884C\u9274\u6743\uFF0C\u53EA\u6709\u901A\u8FC7\u624D\u5141\u8BB8\u7528\u6237\u8FDB\u5165\uFF0C\u5426\u5219\u8FDB\u884C\u91CD\u5B9A\u5411\u3002</p><ol><li><p>\u5B9A\u4E49\u6267\u884C\u9274\u6743\u7684\u94A9\u5B50\u51FD\u6570\u4F9B\u8DEF\u7531\u5B88\u536B\u8FDB\u884C\u4F7F\u7528</p><p><code>src/common/useAuth.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { useEffect, useState } from &quot;react&quot;;

function isAuth() {
  // \u6A21\u62DF\u9274\u6743\u6210\u529F
  return Promise.resolve();
  // \u6A21\u62DF\u9274\u6743\u5931\u8D25
  // return Promise.reject();
}

function useAuth() {
  // \u7528\u4E8E\u5B58\u50A8\u9274\u6743\u7ED3\u679C
  // true \u6210\u529F
  // false \u5931\u8D25 (\u9ED8\u8BA4\u503C)
  const [auth, setAuth] = useState(false);
  // \u7528\u4E8E\u5B58\u50A8\u5F02\u6B65\u72B6\u6001
  // true \u7B49\u5F85 (\u9ED8\u8BA4\u503C)
  // false \u7ED3\u675F
  const [loading, setLoading] = useState(true);
  useEffect(() =&gt; {
    // \u5F00\u59CB\u9274\u6743
    isAuth()
      // \u6210\u529F
      .then(() =&gt; setAuth(true))
      // \u5931\u8D25
      .catch(() =&gt; setAuth(false))
      // \u4E0D\u7BA1\u6210\u529F\u8FD8\u662F\u5931\u8D25, \u90FD\u5C06\u5F02\u6B65\u72B6\u6001\u66F4\u65B0\u4E3A\u7ED3\u675F
      .finally(() =&gt; setLoading(false));
  }, []);
  // \u8FD4\u56DE\u5F02\u6B65\u72B6\u6001\u548C\u9274\u6743\u7ED3\u679C
  return { loading, auth };
}

export default useAuth;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div></li><li><p>\u521B\u5EFA\u7528\u4E8E\u5B9E\u73B0\u8EAB\u4EFD\u9A8C\u8BC1\u7684\u8DEF\u7531\u5B88\u536B\u7EC4\u4EF6</p><p><code>src/common/AuthGuard.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { Navigate } from &quot;react-router-dom&quot;;
import useAuth from &quot;../hooks/useAuth&quot;;

function AuthGuard({ children }) {
  // \u8C03\u7528\u9274\u6743\u94A9\u5B50, \u83B7\u53D6\u5F02\u6B65\u72B6\u6001\u53CA\u9274\u6743\u7ED3\u679C22
  const { auth, loading } = useAuth();
  // \u5982\u679C\u5F02\u6B65\u72B6\u6001\u4E3A\u7B49\u5F85, \u6E32\u67D3\u7B49\u5F85\u8FC7\u7A0B\u4E2D\u7684UI\u754C\u9762
  if (loading) return &lt;div&gt;loading...&lt;/div&gt;;
  // \u5224\u65AD\u9274\u6743\u7ED3\u679C, \u5982\u679C\u901A\u8FC7, \u8FDB\u5165\u76EE\u6807\u8DEF\u7531\u7EC4\u4EF6, \u5982\u679C\u6CA1\u901A\u8FC7, \u91CD\u5B9A\u5411\u5230\u6267\u884C\u6388\u6743\u7684\u9875\u9762
  return auth ? children : &lt;Navigate to=&quot;/login&quot; /&gt;;
}

export default AuthGuard;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li><li><p>\u5BF9 Admin \u7EC4\u4EF6\uFF0C\u5373\u9700\u8981\u9274\u6743\u4EE5\u540E\u624D\u80FD\u8BBF\u95EE\u7684\u9875\u9762\u8DEF\u7531\u7EC4\u4EF6\u8FDB\u884C\u5B88\u536B</p><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>import AuthGuard from &quot;./common/AuthGuard&quot;;

function App() {
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route path=&quot;/admin&quot; element={&lt;AuthGuard&gt;&lt;Admin /&gt;&lt;/AuthGuard&gt;}/&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol><h3 id="_5-12-\u8DEF\u7531\u5B88\u536B-\u591A\u8DEF\u7531\u5B88\u536B" tabindex="-1">5.12 \u8DEF\u7531\u5B88\u536B \u591A\u8DEF\u7531\u5B88\u536B <a class="header-anchor" href="#_5-12-\u8DEF\u7531\u5B88\u536B-\u591A\u8DEF\u7531\u5B88\u536B" aria-hidden="true">#</a></h3><p>\u901A\u8FC7 Outlet \u8DEF\u7531\u63D2\u5EA7\u7EC4\u4EF6\u53EF\u4EE5\u5B9E\u73B0\u591A\u8DEF\u7531\u5B88\u536B\u3002</p><p><code>src/App.js</code></p><div class="language-react line-numbers-mode"><pre><code>import Admin from &quot;./pages/Admin&quot;;
import AuthGuardOutlet from &quot;./common/AuthGuardOutlet&quot;;

function App() {
  return (
    &lt;BrowserRouter&gt;
        &lt;Route path=&quot;/admin&quot; element={&lt;AuthGuardOutlet /&gt;}&gt;
          &lt;Route path=&quot;&quot; element={&lt;Admin /&gt;} /&gt;
        &lt;/Route&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><code>src/common/AuthGuardOutlet.js</code></p><div class="language-react line-numbers-mode"><pre><code>import { Navigate, Outlet } from &quot;react-router-dom&quot;;
import useAuth from &quot;../hooks/useAuth&quot;;

function AuthGuardOutlet() {
  // \u8C03\u7528\u9274\u6743\u94A9\u5B50, \u83B7\u53D6\u5F02\u6B65\u72B6\u6001\u53CA\u9274\u6743\u7ED3\u679C
  const { auth, loading } = useAuth();
  // \u5982\u679C\u5F02\u6B65\u72B6\u6001\u4E3A\u7B49\u5F85, \u6E32\u67D3\u7B49\u5F85\u8FC7\u7A0B\u4E2D\u7684UI\u754C\u9762
  if (loading) return &lt;div&gt;loading...&lt;/div&gt;;
  // \u5224\u65AD\u9274\u6743\u7ED3\u679C, \u5982\u679C\u901A\u8FC7, \u6E32\u67D3\u8DEF\u7531\u63D2\u5EA7\u7EC4\u4EF6, \u8BA9 children \u7EC4\u4EF6\u80FD\u591F\u6E32\u67D3\u5230\u63D2\u5EA7\u7EC4\u4EF6\u4E2D
  // \u5982\u679C\u6CA1\u901A\u8FC7, \u91CD\u5B9A\u5411\u5230\u6267\u884C\u6388\u6743\u7684\u9875\u9762
  return auth ? &lt;Outlet /&gt; : &lt;Navigate to=&quot;/login&quot; /&gt;;
}

export default AuthGuardOutlet;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_5-13-\u6EDA\u52A8\u884C\u4E3A\u4FEE\u6B63" tabindex="-1">5.13 \u6EDA\u52A8\u884C\u4E3A\u4FEE\u6B63 <a class="header-anchor" href="#_5-13-\u6EDA\u52A8\u884C\u4E3A\u4FEE\u6B63" aria-hidden="true">#</a></h3><p>\u95EE\u9898\uFF1A\u5728A\u9875\u9762\u4E2D\u5C06\u9875\u9762\u6EDA\u52A8\u5230\u5E95\u90E8\uFF0C\u5207\u6362\u5230B\u9875\u9762\uFF0C\u6B64\u65F6\u6EDA\u52A8\u7684\u4ECD\u7136\u5904\u4E8EA\u9875\u9762\u7684\u4F4D\u7F6E</p><p>\u89E3\u51B3\u95EE\u9898\u5F97\u65B9\u5F0F\u5C31\u662F\u76D1\u542C\u8DEF\u7531\u5207\u6362\u884C\u4E3A\uFF0C\u5F53\u8DEF\u7531\u53D1\u751F\u5207\u6362\u884C\u4E3A\u65F6\uFF0C\u8BA9\u9875\u9762\u81EA\u52A8\u56DE\u5230\u9876\u90E8\u3002</p><div class="language-react line-numbers-mode"><pre><code>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_6-\u670D\u52A1\u7AEF\u6E32\u67D3" tabindex="-1">6.\u670D\u52A1\u7AEF\u6E32\u67D3 <a class="header-anchor" href="#_6-\u670D\u52A1\u7AEF\u6E32\u67D3" aria-hidden="true">#</a></h2><h3 id="_6-1-\u6982\u8FF0" tabindex="-1">6.1 \u6982\u8FF0 <a class="header-anchor" href="#_6-1-\u6982\u8FF0" aria-hidden="true">#</a></h3><h3 id="_6-1-1\u6E32\u67D3\u6982\u8FF0" tabindex="-1">6.1.1\u6E32\u67D3\u6982\u8FF0 <a class="header-anchor" href="#_6-1-1\u6E32\u67D3\u6982\u8FF0" aria-hidden="true">#</a></h3><h3 id="_1-\u670D\u52A1\u7AEF\u6E32\u67D3ssr" tabindex="-1">1.\u670D\u52A1\u7AEF\u6E32\u67D3SSR <a class="header-anchor" href="#_1-\u670D\u52A1\u7AEF\u6E32\u67D3ssr" aria-hidden="true">#</a></h3><p>\u670D\u52A1\u7AEF\u6E32\u67D3\uFF08server-side rendering\uFF09\u662F\u6307\u6570\u636E\u548CHTML\u6A21\u677F\u5728\u670D\u52A1\u7AEF\u7684\u8FDB\u884C\u62FC\u63A5\uFF0C\u5B8C\u6210\u62FC\u63A5\u540E\u53D1\u9001\u5230\u5BA2\u6237\u7AEF\u7684\u8FDB\u884C\u89E3\u6790\u3002</p><img src="https://raw.githubusercontent.com/zjp693/Zhang_blog/main/docs/public/images/04_React%E7%AC%94%E8%AE%B0.assets/next/02.png"><h3 id="_2-\u5BA2\u6237\u7AEF\u6E32\u67D3csr" tabindex="-1">2.\u5BA2\u6237\u7AEF\u6E32\u67D3CSR <a class="header-anchor" href="#_2-\u5BA2\u6237\u7AEF\u6E32\u67D3csr" aria-hidden="true">#</a></h3><p>\u5BA2\u6237\u7AEF\u6E32\u67D3\uFF08client-side rendering\uFF09\u662F\u6307\u6570\u636E\u548CHTML\u6A21\u677F\u5728\u5BA2\u6237\u7AEF\u7684\u6D4F\u89C8\u5668\u4E2D\u8FDB\u884C\u62FC\u63A5\uFF0C\u62FC\u63A5\u5B8C\u6210\u4E4B\u540E\u518D\u8FFD\u52A0\u5230DOM\u6811\u4E2D\u4F9B\u6D4F\u89C8\u5668\u89E3\u6790\u3002</p><p>images/csr.png</p><h3 id="_3-\u9759\u6001\u751F\u6210ssg" tabindex="-1">3.\u9759\u6001\u751F\u6210SSG <a class="header-anchor" href="#_3-\u9759\u6001\u751F\u6210ssg" aria-hidden="true">#</a></h3><p>\u9759\u6001\u7AD9\u70B9\u751F\u6210\u7684\uFF08start stie grneration\uFF09\u662F\u6307\u5728\u7AD9\u70B9\u6784\u5EFA\u9636\u6BB5\u8FDB\u884C\u6570\u636E\u548CHTMLde\u6A21\u677F\u5728\u670D\u52A1\u7AEF\u7684\u8FDB\u884C\u62FC\u63A5\uFF0C\u5B8C\u6210\u62FC\u63A5\u5E76\u751F\u6210\u5BF9\u5E94\u7684\u9759\u6001\u7684HTML\u9875\u9762\u3002</p><h3 id="_6-1-2-\u6E32\u67D3\u53D1\u5C55\u53F2" tabindex="-1">6.1.2 \u6E32\u67D3\u53D1\u5C55\u53F2 <a class="header-anchor" href="#_6-1-2-\u6E32\u67D3\u53D1\u5C55\u53F2" aria-hidden="true">#</a></h3><p>6.2.2 Next.js</p><p>6.2.1 \u6982\u8FF0</p><p><a href="https://nextjs.org/" target="_blank" rel="noopener noreferrer">Next.js</a> \u662F\u96C6\u6210\u5F0F React \u670D\u52A1\u7AEF\u6E32\u67D3\u5E94\u7528\u6846\u67B6\uFF0C\u7528\u4E8E\u6784\u5EFA SEO \u53CB\u597D\u7684 SPA \u5E94\u7528\u3002</p><div class="language-bash line-numbers-mode"><pre><code><span class="token comment"># \u5168\u5C40\u5B89\u88C5 next.js \u811A\u624B\u67B6\u5DE5\u5177</span>
<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> create-next-app
<span class="token comment"># \u521B\u5EFA next.js \u5E94\u7528</span>
create-next-app next-tutorial
<span class="token comment"># \u542F\u52A8\u5F00\u53D1\u670D\u52A1\u5668</span>
<span class="token function">npm</span> run dev
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_6-2-2-\u57FA\u4E8E\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u7684\u8DEF\u7531" tabindex="-1">6.2.2 \u57FA\u4E8E\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u7684\u8DEF\u7531 <a class="header-anchor" href="#_6-2-2-\u57FA\u4E8E\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u7684\u8DEF\u7531" aria-hidden="true">#</a></h3><h4 id="_1-\u8DEF\u7531\u5339\u914D" tabindex="-1">1.\u8DEF\u7531\u5339\u914D <a class="header-anchor" href="#_1-\u8DEF\u7531\u5339\u914D" aria-hidden="true">#</a></h4><p>\u5728Next.js\u4E2D\uFF0C\u9875\u9762\u662F\u5B58\u50A8\u5728pages\u6587\u4EF6\u4E2D\u7684React\u7EC4\u4EF6\uFF0C\u7EC4\u4EF6\u6587\u4EF6\u540D\u79F0\u548C\u8DEF\u7531\u76F8\u5173\u8054\u3002</p><div class="language-react line-numbers-mode"><pre><code>// pages/index.js ====&gt; http://localhost:3000/
export default function Home() {
  return &lt;div&gt;\u9996\u9875&lt;/div&gt;;
}	
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>// pages/about.js ====&gt; http://localhost:3000/about
export default function About() {
  return &lt;div&gt;\u5173\u4E8E\u6211\u4EEC&lt;/div&gt;;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>// pages/post/index.js ====&gt; http://localhost:3000/post
export default function Post() {
  return &lt;div&gt;\u8FD9\u662F\u535A\u5BA2\u7D22\u5F15\u76EE\u5F55&lt;/div&gt;;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>// pages/blog/first-blog.js ====&gt; http://localhost:3000/blog/first-post
export default function FirstPost () {
  return &lt;div&gt;\u8FD9\u662F\u6211\u7684\u7B2C\u4E00\u7BC7\u535A\u5BA2\u6587\u7AE0&lt;/div&gt;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>// pages/post/[pid].js ====&gt; http://localhost:3000/post/1
import { useRouter } from &quot;next/router&quot;;

export default function Post() {
  const router = useRouter(); // routter.query ====&gt; {&quot;pid&quot;: &quot;1&quot;}
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>// pages/post/[pid].js ====&gt; http://localhost:3000/post/1?name=zhangsan
import { useRouter } from &quot;next/router&quot;;

export default function Post() {
  const router = useRouter(); // routter.query ====&gt; {&quot;pid&quot;: &quot;1&quot;, &quot;name&quot;: &quot;\u5F20\u4E09&quot;}
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>// pages/order/[uid]/[status].js ====&gt; http://localhost:3000/order/2/all
import { useRouter } from &quot;next/router&quot;;

export default function Orders() {
  const router = useRouter(); // router.query ====&gt; {&quot;uid&quot;: &quot;2&quot;, &quot;status&quot;: &quot;all&quot;}
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>// pages/404.js ====&gt; \u81EA\u5B9A\u4E49404\u9875\u9762
export default function NotFound() {
  return &lt;div&gt;\u8FD9\u662F\u81EA\u5B9A\u4E49\u7684404\u9875\u9762&lt;/div&gt;;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="_2-\u8DEF\u7531\u8DF3\u8F6C" tabindex="-1">2. \u8DEF\u7531\u8DF3\u8F6C <a class="header-anchor" href="#_2-\u8DEF\u7531\u8DF3\u8F6C" aria-hidden="true">#</a></h5><p>Link\u7EC4\u4EF6\u9ED8\u8BA4\u8FDB\u884C\u5BA2\u6237\u7AEF\u8DEF\u7531\u8DF3\u8F6C\uFF0C\u5982\u679C\u6D4F\u89C8\u5668\u4E2DJavaScrip\u88AB\u7981\u7528\u5219\u4F7F\u7528\u94FE\u63A5\u8FDB\u884C\u670D\u52A1\u7AEF12\u8DEF\u7531\u8DF3\u8F6C</p><p>Link\u7EC4\u4EF6\u4E2D\u4E0D\u5E94\u6DFB\u52A0\u9664href\u5C5E\u6027\u4EE5\u4E3A\u7684\u5C5E\u6027\uFF0C\u5176\u4F59\u5C5E\u6027\u6DFB\u52A0\u5230a\u6807\u7B7E\u4E0A\uFF0C\u6BD4\u5982title\u3001onClick\u3002</p><p>Link \u7EC4\u4EF6\u901A\u8FC7\u9884\u53D6(\u5728\u751F\u4EA7\u4E2D)\u529F\u80FD\u81EA\u52A8\u4F18\u5316\u5E94\u7528\u7A0B\u5E8F\u4EE5\u83B7\u5F97\u6700\u4F73\u6027\u80FD\u3002</p><div class="language-react line-numbers-mode"><pre><code>import Link from &quot;next/link&quot;;

export default function Home() {
  return (
    &lt;Link href=&quot;/about&quot;&gt;
      &lt;a title=&quot;\u5173\u4E8E\u6211\u4EEC&quot;&gt;\u5173\u4E8E\u6211\u4EEC&lt;/a&gt;
    &lt;/Link&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>import Link from &quot;next/link&quot;;

const posts = [
  { id: 1, title: &quot;\u8FD9\u662Fid\u4E3A1\u7684\u6587\u7AE0&quot; },
  { id: 2, title: &quot;\u8FD9\u662Fid\u4E3A2\u7684\u6587\u7AE0&quot; },
];

export default function Post() {
  return (
    &lt;ul&gt;
      {posts.map((post) =&gt; (
        &lt;li key={post.id}&gt;
          &lt;Link href={\`/post/\${post.id}\`}&gt;
            &lt;a&gt;{post.title}&lt;/a&gt;
          &lt;/Link&gt;
        &lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>import Link from &quot;next/link&quot;;

const posts = [
  { id: 1, title: &quot;\u8FD9\u662Fid\u4E3A1\u7684\u6587\u7AE0&quot; },
  { id: 2, title: &quot;\u8FD9\u662Fid\u4E3A2\u7684\u6587\u7AE0&quot; },
];

export default function Post() {
  return (
    &lt;ul&gt;
      {posts.map((post) =&gt; (
        &lt;li key={post.id}&gt;
          &lt;Link href={{ pathname: &quot;/post/[pid]&quot;, query: { pid: post.id } }}&gt;
            &lt;a&gt;{post.title}&lt;/a&gt;
          &lt;/Link&gt;
        &lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>import { useRouter } from &quot;next/router&quot;;

export default function Home() {
  const router = useRouter();
  return &lt;button onClick={() =&gt; router.push(&quot;/about&quot;)}&gt;\u5173\u4E8E\u6211\u4EEC&lt;/button&gt;;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>import Link from &quot;next/link&quot;;

export default function Home() {
  const onClickHandler = (event) =&gt; {
    alert(&quot;clicked&quot;);
    event.preventDefault();
  };
  return (
    &lt;Link href=&quot;/about&quot;&gt;
      &lt;a onClick={onClickHandler}&gt;\u5173\u4E8E\u6211\u4EEC&lt;/a&gt;
    &lt;/Link&gt;
  );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_6-2-3-api-\u8DEF\u7531" tabindex="-1">6.2.3 API \u8DEF\u7531 <a class="header-anchor" href="#_6-2-3-api-\u8DEF\u7531" aria-hidden="true">#</a></h4><p>\u901A\u8FC7API\u8DEF\u7531\u5F00\u53D1\u8005\u53EF\u4EE5\u4E3A<strong>\u5BA2\u6237\u7AEF</strong>\u5E94\u7528\u63D0\u4F9B\u7684API\u63A5\u53E3\u3002</p><p>API\u8DEF\u7531\u7684\u662F\u670D\u52A1\u7AEF\u5E94\u7528\u7A0B\u5E8F\uFF0C\u4EE3\u7801\u5C06\u4F1A\u88AB\u6253\u5305\u5230\u670D\u52A1\u7AEF\u5E94\u7528\u7A0B\u5E8F\uFF0C\u5B83\u4E0D\u4F1A\u6700\u589E\u52A0\u5BA2\u6237\u7AEF\u6253\u5305\u6587\u4EF6\u7684\u4F53\u79EF\u3002</p><h5 id="_1-\u57FA\u672C\u4F7F\u7528" tabindex="-1">1.\u57FA\u672C\u4F7F\u7528 <a class="header-anchor" href="#_1-\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a></h5><div class="language-javascript line-numbers-mode"><pre><code><span class="token comment">// pages/api/index.js ====&gt; http://localhost:3000/api</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// req: \u8BF7\u6C42\u5BF9\u8C61</span>
  <span class="token comment">// res: \u54CD\u5E94\u5BF9\u8C61</span>
  <span class="token comment">// \u5BF9\u5BA2\u6237\u7AEF\u8FDB\u884C\u54CD\u5E94</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;API Route is running&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-javascript line-numbers-mode"><pre><code><span class="token comment">// pages/api/posts/index.js</span>
<span class="token comment">// \u83B7\u53D6\u6587\u7AE0\u5217\u8868: GET  http://localhost:3000/api/posts</span>
<span class="token comment">// \u6DFB\u52A0\u6587\u7AE0:    POST  http://localhost:3000/api/posts</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;GET&quot;</span><span class="token operator">:</span>
      res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;\u5BA2\u6237\u7AEF\u5728\u83B7\u53D6\u6587\u7AE0\u5217\u8868&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;POST&quot;</span><span class="token operator">:</span>
      res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;\u5BA2\u6237\u7AEF\u5728\u6DFB\u52A0\u6587\u7AE0&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> req<span class="token punctuation">.</span>body <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;API \u4E0D\u5B58\u5728&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-javascript line-numbers-mode"><pre><code><span class="token comment">// pages/api/posts/[pid].js</span>
<span class="token comment">// \u6839\u636Epid\u83B7\u53D6\u6587\u7AE0: GET     http://localhost:3000/api/post/12</span>
<span class="token comment">// \u6839\u636Epid\u5220\u9664\u6587\u7AE0: DELETE  http://localhost:3000/api/post/12</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;GET&quot;</span><span class="token operator">:</span>
      res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;\u5BA2\u6237\u7AEF\u5728\u6839\u636Epid\u83B7\u53D6\u6587\u7AE0&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>pid <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;DELETE&quot;</span><span class="token operator">:</span>
      res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;\u5BA2\u6237\u7AEF\u5728\u6839\u636Epid\u5220\u9664\u6587\u7AE0&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>pid <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-javascript line-numbers-mode"><pre><code><span class="token comment">// pages/api/posts/[...pids].js </span>
<span class="token comment">// \u6839\u636Epid\u6279\u91CF\u5220\u9664\u6587\u7AE0: DELETE http://localhost:3000/api/posts/2/3</span>
<span class="token comment">// [pid].js \u7684\u5339\u914D\u4F18\u5148\u7EA7\u9AD8\u4E8E [...pid].js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;DELETE&quot;</span><span class="token operator">:</span>
      res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;\u5BA2\u6237\u7AEF\u5728\u6839\u636Epid\u6279\u91CF\u5220\u9664\u6587\u7AE0&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>pid <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h5 id="_2-\u8FDE\u63A5\u6570\u636E\u5E93" tabindex="-1">2. \u8FDE\u63A5\u6570\u636E\u5E93 <a class="header-anchor" href="#_2-\u8FDE\u63A5\u6570\u636E\u5E93" aria-hidden="true">#</a></h5><div class="language-javascript line-numbers-mode"><pre><code><span class="token comment">// services/dbConnection.js</span>
<span class="token keyword">import</span> mongoose <span class="token keyword">from</span> <span class="token string">&quot;mongoose&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">dbConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5224\u65AD\u6570\u636E\u5E93\u662F\u5426\u5DF2\u7ECF\u8FDE\u63A5\u8FC7, \u5982\u679C\u5DF2\u7ECF\u8FDE\u63A5\u8FC7, \u4E0D\u518D\u91CD\u590D\u8FDE\u63A5</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>mongoose<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token comment">// \u5982\u679C\u6570\u636E\u5E93\u6CA1\u6709\u8FDE\u63A5\u8FC7, \u94FE\u63A5\u6570\u636E\u5E93</span>
  <span class="token keyword">await</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;mongodb://localhost:27017/test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> dbConnect<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript line-numbers-mode"><pre><code><span class="token comment">// models/Post.js</span>
<span class="token keyword">import</span> mongoose <span class="token keyword">from</span> <span class="token string">&quot;mongoose&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> PostSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mongoose<span class="token punctuation">.</span>Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&quot;\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">unique</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxlength</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token string">&quot;\u6807\u9898\u4E0D\u80FD\u8D85\u8FC740\u4E2A\u5B57\u7B26&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxlength</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&quot;\u63CF\u8FF0\u4E0D\u80FD\u8D85\u8FC7200\u4E2A\u5B57\u7B26&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Post <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>models<span class="token punctuation">.</span>Post <span class="token operator">||</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&quot;Post&quot;</span><span class="token punctuation">,</span> PostSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Post<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-javascript line-numbers-mode"><pre><code><span class="token comment">// pages/api/posts/index.js</span>
<span class="token keyword">import</span> Post <span class="token keyword">from</span> <span class="token string">&quot;@/models/Post&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> dbConnect <span class="token keyword">from</span> <span class="token string">&quot;@/services/dbConnection&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">dbConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;GET&quot;</span><span class="token operator">:</span>
      <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> Post<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> posts <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;POST&quot;</span><span class="token operator">:</span>
      <span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token keyword">await</span> Post<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
      res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> post <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token string">&quot;api \u4E0D\u5B58\u5728&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-json line-numbers-mode"><pre><code><span class="token comment">// jsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;@/models/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;models/*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;@/services/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;services/*&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_6-2-4-\u9884\u6E32\u67D3" tabindex="-1">6.2.4 \u9884\u6E32\u67D3 <a class="header-anchor" href="#_6-2-4-\u9884\u6E32\u67D3" aria-hidden="true">#</a></h4><p>\u9884\u6E32\u67D3\u65F6\u6307\u5728\u6784\u5EFA\u9636\u6BB5\u5BF9\u5E94\u7A0B\u5E8F\u8FDB\u884C\u7F16\u8BD1\uFF0C\u7F16\u8BD1\u7ED3\u679C\u5C31\u662F\u9759\u6001\u7684HTML\u6587\u4EF6</p><p>\u5F53\u5BA2\u6237\u7AEF\u662F\u5411\u670D\u52A1\u7AEF\u53D1\u9001\u8BF7\u6C42\u540E\uFF0C\u670D\u52A1\u7AEF\u76F4\u63A5\u5C06\u5E94\u7528\u6784\u5EFA\u65F6\u7F16\u8BD1\u7684HTML\u6587\u4EF6\u53D1\u9001\u5230\u5BA2\u6237\u7AEF</p><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u7EC4\u4EF6\u4E0D\u901A\u8FC7\u8BF7\u6C42\u83B7\u53D6\u5916\u90E8\u6570\u636E\uFF0CNext.js\u4F1A\u5728\u6784\u5EFA\u5C06\u5176\u7F16\u8BD1\u4E3A\u9759\u6001HTML\u6587\u4EF6</p><p>\u9884\u6E32\u67D3\u9002\u7528\u4E8E\u9875\u9762\u5185\u5BB9\u4E0D\u4F1A\u53D1\u751F\u9891\u7E41\u53D8\u5316\u7684\u573A\u666F\uFF0C\u6BD4\u5982\u535A\u5BA2\u3001\u65B0\u95FB\u3001\u7535\u5546\u524D\u53F0\u3001\u6587\u6863\u3001\u8425\u9500\u9875\u9762\u7B49</p><div class="language-react line-numbers-mode"><pre><code>export default function About() {
  return &lt;div&gt;About&lt;/div&gt;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_1-\u57FA\u4E8E\u9875\u9762\u7EC4\u4EF6\u7684\u9884\u6E32\u67D3" tabindex="-1">1. \u57FA\u4E8E\u9875\u9762\u7EC4\u4EF6\u7684\u9884\u6E32\u67D3 <a class="header-anchor" href="#_1-\u57FA\u4E8E\u9875\u9762\u7EC4\u4EF6\u7684\u9884\u6E32\u67D3" aria-hidden="true">#</a></h5><p>\u5728\u6784\u5EFA\u9636\u6BB5\u5982\u679C\u7EC4\u4EF6\u9700\u8981\u83B7\u53D6\u5916\u90E8\u6570\u636E\uFF0C\u5728\u7EC4\u4EF6\u4E2D\u8981\u5BFC\u51FA\u540D\u4E3A getStaticProps \u7684\u5F02\u6B65\u65B9\u6CD5\uFF0C\u901A\u8FC7\u5B83\u8FD4\u56DE\u7EC4\u4EF6\u6240\u9700\u6570\u636E\uFF0C\u5B83\u4F1A\u5728\u5E94\u7528\u7684\u6784\u5EFA\u9636\u6BB5\u6267\u884C\u3002</p><div class="language-react line-numbers-mode"><pre><code>import axios from &quot;axios&quot;;

export default function Posts({ posts }) {
  return (
    &lt;ul&gt;
      {posts.map((post) =&gt; (
        &lt;li key={post.id}&gt;{post.title}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}

export async function getStaticProps() {
  let { data } = await axios.get(&quot;https://jsonplaceholder.typicode.com/posts&quot;);
  return {
    props: {
      posts: data,
    },
  };
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h5 id="_2-\u57FA\u4E8E\u52A8\u6001\u8DEF\u7531\u7684\u9884\u6E32\u67D3" tabindex="-1">2. \u57FA\u4E8E\u52A8\u6001\u8DEF\u7531\u7684\u9884\u6E32\u67D3 <a class="header-anchor" href="#_2-\u57FA\u4E8E\u52A8\u6001\u8DEF\u7531\u7684\u9884\u6E32\u67D3" aria-hidden="true">#</a></h5><p>\u57FA\u4E8E\u52A8\u6001\u8DEF\u7531\u7684\u9884\u6E32\u67D3\u662F\u6307\u6839\u636E\u8DEF\u7531\u52A8\u6001\u53C2\u6570\u7F16\u8BD1 HTML \u9759\u6001\u6587\u4EF6\u3002</p><p>\u8BE5\u8DEF\u7531\u62E5\u6709\u591A\u5C11\u53C2\u6570\u5C31\u4F1A\u7F16\u8BD1\u51FA\u591A\u5C11\u9759\u6001 HTML \u6587\u4EF6\u3002</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> json-server
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;todos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\u5403\u996D&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\u7761\u89C9&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\u6253\u8C46\u8C46&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-bash line-numbers-mode"><pre><code>json-server db.json <span class="token parameter variable">-p</span> <span class="token number">3001</span> <span class="token parameter variable">-w</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>// pages/todos/[id].js
import axios from &quot;axios&quot;;
import { useRouter } from &quot;next/router&quot;;

export default function Todo({ todo }) {
  const router = useRouter();
  if (router.isFallback) return &lt;div&gt;Loading...&lt;/div&gt;;
  return (
    &lt;div&gt;
      {todo.id} {todo.title}
    &lt;/div&gt;
  );
}

// \u7B2C\u4E00\u6B65: \u5728\u6784\u5EFA\u65F6\u5148\u83B7\u53D6\u6240\u6709\u8DEF\u7531\u53C2\u6570
export async function getStaticPaths() {
  return {
    paths: [
      {
        params: { id: &quot;1&quot; },
      },
      {
        params: { id: &quot;2&quot; },
      },
    ],
    // false \u5F53\u8BBF\u95EE\u6CA1\u6709\u88AB\u9884\u6E32\u67D3\u7684\u8DEF\u5F84\u65F6\u5C55\u793A404\u9875\u9762
    // true: \u5F53\u8BBF\u95EE\u6CA1\u6709\u88AB\u9884\u6E32\u67D3\u7684\u8DEF\u5F84\u65F6, \u5148\u5C55\u793A\u540E\u5907UI, Next.js \u4F1A\u5728\u5BA2\u6237\u7AEF\u8BF7\u6C42\u65F6\u8FDB\u884C\u9884\u6E32\u67D3, \u5B8C\u540E\u540E\u663E\u793A\u9884\u6E32\u67D3\u7ED3\u679C
    fallback: true,
  };
}

// \u7B2C\u4E8C\u6B65: \u6839\u636E\u8DEF\u7531\u53C2\u6570\u7F16\u8BD1\u9759\u6001 HTML \u6587\u4EF6
// \u5728\u6784\u5EFA\u65F6 Next \u5148\u8C03\u7528 getStaticPaths \u65B9\u6CD5\u83B7\u53D6\u6240\u6709\u8DEF\u7531\u53C2\u6570
// \u904D\u5386\u8DEF\u7531\u53C2\u6570, \u4E0D\u65AD\u8C03\u7528 getStaticProps \u65B9\u6CD5\u7F16\u8BD1\u9759\u6001HTML\u6587\u4EF6
export async function getStaticProps({ params }) {
  let response = await axios.get(\`http://localhost:3001/todos/\${params.id}\`);
  await delay(2000);
  return {
    props: {
      todo: response.data,
    },
    // \u8BBE\u7F6E\u5F53\u524D\u9875\u9762\u7F13\u5B58\u7684\u8FC7\u671F\u65F6\u95F4
    // \u5F53\u524D\u9875\u9762\u88AB\u8BBF\u95EE\u65F6, \u5982\u679C\u7F13\u5B58\u65F6\u95F4\u8FC7\u671F, \u89E6\u53D1\u5F53\u524D\u9875\u9762\u7684\u91CD\u65B0\u9884\u6E32\u67D3
    // \u5F53\u6B21\u8BBF\u95EE\u7528\u6237\u770B\u5230\u7684\u4ECD\u7136\u662F\u7F13\u5B58\u9875\u9762, \u5F53\u91CD\u65B0\u9884\u6E32\u67D3\u5B8C\u6210\u540E, \u4E0B\u6B21\u7528\u6237\u8BBF\u95EE\u65F6\u770B\u5230\u7684\u5C31\u662F\u65B0\u9875\u9762\u4E86
    revalidate: 10,
  };
}

function delay(time) {
  return new Promise((resolve) =&gt; setTimeout(resolve, time));
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h4 id="_6-2-5-\u670D\u52A1\u7AEF\u6E32\u67D3" tabindex="-1">6.2.5 \u670D\u52A1\u7AEF\u6E32\u67D3 <a class="header-anchor" href="#_6-2-5-\u670D\u52A1\u7AEF\u6E32\u67D3" aria-hidden="true">#</a></h4><p>\u670D\u52A1\u7AEF\u6E32\u67D3\u662F\u6307\u5728\u5BA2\u6237\u7AEF\u53D1\u9001\u8BF7\u6C42\u65F6\uFF0C\u670D\u52A1\u5668\u7AEF\u5373\u65F6\u7F16\u8BD1 HTML\uFF0C\u7F16\u8BD1\u5B8C\u6210\u540E\u5C06 HTML \u4EE3\u7801\u53D1\u9001\u5230\u5BA2\u6237\u7AEF\u3002</p><p>\u670D\u52A1\u7AEF\u6E32\u67D3\u65B9\u5F0F\u9002\u7528\u4E8E\u9875\u9762\u5185\u5BB9\u9891\u7E41\u53D1\u751F\u53D8\u5316\u573A\u666F\u4E14\u9700\u8981 SEO \u7684\u573A\u666F\u3002</p><p>getServerSideProps \u65B9\u6CD5\u5728\u670D\u52A1\u7AEF\u6267\u884C\uFF0C\u5185\u90E8\u53EF\u4EE5\u8C03\u7528 API \u8DEF\u7531\uFF0C\u4E5F\u53EF\u4EE5\u76F4\u63A5\u67E5\u8BE2\u6570\u636E\u5E93\u3002</p><div class="language-react line-numbers-mode"><pre><code>import Post from &quot;@/models/Post&quot;;

export default function Posts({ posts }) {
  return (
    &lt;ul&gt;
      {posts.map((post, index) =&gt; (
        &lt;li key={index}&gt;
          &lt;h1&gt;{post.title}&lt;/h1&gt;
          &lt;p&gt;{post.description}&lt;/p&gt;
        &lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}

export async function getServerSideProps() {
  const posts = await Post.find({});
  return {
    props: {
      posts: JSON.parse(JSON.stringify(posts)),
    },
  };
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="_6-2-6-\u6DF7\u5408\u6E32\u67D3" tabindex="-1">6.2.6 \u6DF7\u5408\u6E32\u67D3 <a class="header-anchor" href="#_6-2-6-\u6DF7\u5408\u6E32\u67D3" aria-hidden="true">#</a></h4><p>\u6DF7\u5408\u6E32\u67D3\u662F\u6307\u5BA2\u6237\u7AEF\u6E32\u67D3\u548C\u670D\u52A1\u7AEF\u6E32\u67D3\u3001\u5BA2\u6237\u7AEF\u6E32\u67D3\u548C\u9884\u6E32\u67D3\u53EF\u4EE5\u6DF7\u5408\u4F7F\u7528\u3002</p><p>\u6BD4\u5982\u6587\u7AE0\u8BE6\u60C5\u9875\u9762\uFF0C\u6587\u7AE0\u5185\u5BB9\u4E0D\u4F1A\u7ECF\u5E38\u53D8\u5316\u53EF\u4EE5\u4F7F\u7528\u9884\u6E32\u67D3\uFF0C\u800C\u6587\u7AE0\u8BC4\u8BBA\u9700\u8981\u5B9E\u65F6\u66F4\u65B0\u53EF\u4EE5\u4F7F\u7528\u5BA2\u6237\u7AEF\u6E32\u67D3\u3002</p><div class="language-react line-numbers-mode"><pre><code>// pages/api/comments/index.js
export default function comments(req, res) {
  res.send([
    { id: 1, content: &quot;\u8BC4\u8BBA1&quot; },
    { id: 2, content: &quot;\u8BC4\u8BBA2&quot; },
  ]);
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-react line-numbers-mode"><pre><code>import axios from &quot;axios&quot;;
import { useState, useEffect } from &quot;react&quot;;

export default function Posts({ posts }) {
  const [comments, setComments] = useState([]);
  useEffect(() =&gt; {
    axios.get(&quot;http://localhost:3000/api/comments&quot;).then((response) =&gt; {
      setComments(response.data);
    });
  }, []);
  return (
    &lt;&gt;
      {/* \u9884\u6E32\u67D3\u90E8\u5206\u5F00\u59CB */}
      &lt;ul&gt;
        {posts.map((post, index) =&gt; (
          &lt;li key={index}&gt;
            &lt;h1&gt;{post.title}&lt;/h1&gt;
            &lt;p&gt;{post.description}&lt;/p&gt;
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
      {/* \u9884\u6E32\u67D3\u90E8\u5206\u7ED3\u675F */}
      {/* \u52A8\u6001\u6E32\u67D3\u90E8\u5206\u5F00\u59CB */}
      &lt;ul&gt;
        {comments.map((comment) =&gt; (
          &lt;li key={comment.id}&gt;{comment.content}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
      {/* \u52A8\u6001\u6E32\u67D3\u90E8\u5206\u7ED3\u675F */}
    &lt;/&gt;
  );
}

export async function getStaticProps() {
  let response = await axios.get(&quot;http://localhost:3000/api/posts&quot;);
  return {
    props: {
      posts: response.data.posts,
    },
  };
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h4 id="_6-2-7-\u4E3A\u5E94\u7528\u6DFB\u52A0\u6837\u5F0F" tabindex="-1">6.2.7 \u4E3A\u5E94\u7528\u6DFB\u52A0\u6837\u5F0F <a class="header-anchor" href="#_6-2-7-\u4E3A\u5E94\u7528\u6DFB\u52A0\u6837\u5F0F" aria-hidden="true">#</a></h4><p>Next.js \u63A8\u8350\u5C06\u6240\u6709\u6837\u5F0F\u8868\u6587\u4EF6\u5B58\u50A8\u5728 styles \u76EE\u5F55\u4E2D\u3002</p>`,324),o=[e];function c(l,u,r,i,k,b){return a(),s("div",null,o)}var g=n(t,[["render",c]]);export{d as __pageData,g as default};
